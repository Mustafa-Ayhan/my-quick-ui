{"version":3,"file":"websdk.js?ver=3.1.2-4","mappings":"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,CAAC;CACL;;;;;;;;;;;;;;ACND,2JAA+E;AAcxD,mGAdd,qCAAiB,QAcc;AA4rBxC;IAAA;IAKA,CAAC;IAJiB,uCAAsB,GAApC,UAAqC,YAAoB;QACrD,IAAM,GAAG,GAAG,IAAI,qCAAiB,CAAW,YAAY,CAAC,CAAC;QAC1D,OAAO,GAAG,CAAC;IACf,CAAC;IACL,uBAAC;AAAD,CAAC;AALY,4CAAgB;;;;;;;UC3sB7B;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;UAEA;UACA;;;;;WC5BA;;;;;WCAA;WACA;WACA;WACA;WACA;WACA,iCAAiC,WAAW;WAC5C;WACA;;;;;WCPA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,sDAAsD;WACtD,sCAAsC,iEAAiE;WACvG;WACA;WACA;WACA;WACA;WACA;;;;;WCzBA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,EAAE;WACF;;;;;WCRA;WACA;WACA;WACA;WACA;;;;;WCJA;WACA;WACA;WACA;WACA,GAAG;WACH;WACA;WACA,CAAC;;;;;WCPD;;;;;WCAA;WACA;WACA;WACA;WACA,uBAAuB,4BAA4B;WACnD;WACA;WACA;WACA,iBAAiB,oBAAoB;WACrC;WACA,mGAAmG,YAAY;WAC/G;WACA;WACA;WACA;WACA;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,mEAAmE,iCAAiC;WACpG;WACA;WACA;WACA;;;;;WCxCA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;WCNA;WACA;WACA;WACA;WACA;;;;;WCJA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;W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","sources":["webpack://@stechquick/websdk/webpack/universalModuleDefinition","webpack://@stechquick/websdk/../../common/qshell/src/helpers/QJsonHelpers/QJsonCollector.ts","webpack://@stechquick/websdk/../../common/qshell/src/helpers/QJsonHelpers/QJsonPool.ts","webpack://@stechquick/websdk/../../common/shrimp/constants/knownComps.ts","webpack://@stechquick/websdk/../../common/shrimp/helpers/QJsonHelper.ts","webpack://@stechquick/websdk/../../common/shrimp/helpers/bulkManager.ts","webpack://@stechquick/websdk/../../common/shrimp/helpers/lazyLoader.ts","webpack://@stechquick/websdk/../../common/shrimp/helpers/logger.ts","webpack://@stechquick/websdk/../../common/shrimp/helpers/qjsonParser/QJsonContentParser.ts","webpack://@stechquick/websdk/../../common/shrimp/helpers/qjsonParser/QJsonExtractHelper.ts","webpack://@stechquick/websdk/../../common/shrimp/helpers/qjsonParser/QJsonParserV2.ts","webpack://@stechquick/websdk/../../common/shrimp/helpers/scriptRootPathHelper.ts","webpack://@stechquick/websdk/../../common/shrimp/helpers/singularizer.ts","webpack://@stechquick/websdk/../../common/shrimp/helpers/typeHelper.ts","webpack://@stechquick/websdk/../../common/shrimp/helpers/urlHelper.ts","webpack://@stechquick/websdk/../../common/shrimp/helpers/windowHelper.ts","webpack://@stechquick/websdk/../../common/shrimp/interfaces/ComponentInterfaces/ILogger.ts","webpack://@stechquick/websdk/../../common/shrimp/interfaces/Scripting/LangCalc.ts","webpack://@stechquick/websdk/./build/legacy.ts","webpack://@stechquick/websdk/./src/managers/LivePreviewManager.ts","webpack://@stechquick/websdk/../../node_modules/@stechquick/algae/src/helpers/createPromiseData.ts","webpack://@stechquick/websdk/../../node_modules/@stechquick/algae/src/helpers/cryptoHelper.ts","webpack://@stechquick/websdk/../../node_modules/@stechquick/algae/src/helpers/eventBus.ts","webpack://@stechquick/websdk/../../node_modules/@stechquick/algae/src/helpers/frameCommunicator.ts","webpack://@stechquick/websdk/../../node_modules/@stechquick/algae/src/helpers/hook.ts","webpack://@stechquick/websdk/../../node_modules/@stechquick/algae/src/helpers/importHelper.ts","webpack://@stechquick/websdk/../../node_modules/@stechquick/algae/src/helpers/socket/structuredSocket.ts","webpack://@stechquick/websdk/../../node_modules/@stechquick/algae/src/polyfill/string.ts","webpack://@stechquick/websdk/../../node_modules/@stechquick/algae/src/protocols/PlateauMessaging.ts","webpack://@stechquick/websdk/webpack/bootstrap","webpack://@stechquick/websdk/webpack/runtime/amd options","webpack://@stechquick/websdk/webpack/runtime/compat get default export","webpack://@stechquick/websdk/webpack/runtime/create fake namespace object","webpack://@stechquick/websdk/webpack/runtime/define property getters","webpack://@stechquick/websdk/webpack/runtime/ensure chunk","webpack://@stechquick/websdk/webpack/runtime/get javascript chunk filename","webpack://@stechquick/websdk/webpack/runtime/global","webpack://@stechquick/websdk/webpack/runtime/hasOwnProperty shorthand","webpack://@stechquick/websdk/webpack/runtime/load script","webpack://@stechquick/websdk/webpack/runtime/make namespace object","webpack://@stechquick/websdk/webpack/runtime/node module decorator","webpack://@stechquick/websdk/webpack/runtime/publicPath","webpack://@stechquick/websdk/webpack/runtime/jsonp chunk loading","webpack://@stechquick/websdk/./websdk.ts"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"websdk\"] = factory();\n\telse\n\t\troot[\"websdk\"] = factory();\n})(this, () => {\nreturn ","import { ICompJson } from \"../../../../shrimp/interfaces/ComponentInterfaces/ICompJson\";\nimport { IQJSon } from \"../../../../shrimp/interfaces/ComponentInterfaces/IQJson\";\nimport { IDory } from \"../../../../shrimp/interfaces/RenderingInterfaces/IDory\";\nimport { ScriptLang } from \"../../../../shrimp/interfaces/Scripting/scriptLang\";\nimport { LangCalc } from \"../../../../shrimp/interfaces/Scripting/LangCalc\";\nimport { IModuleManager } from \"../../interfaces/construction/IModuleManager\";\nimport { Logger, LogType } from \"../../../../shrimp/helpers/logger\";\nimport { QJsonHelper } from \"../../../../shrimp/helpers/QJsonHelper\";\nimport { IDoryJr } from \"../../../../shrimp/interfaces/RenderingInterfaces/IDoryJr\";\nimport { IQJsonCollectionResult } from \"../../../../shrimp/interfaces/quick/IShellConfiguration\";\nimport { knownComps } from \"../../../../shrimp/constants/knownComps\";\n\nexport type justQJsonCPart = { cJson: Array<ICompJson> };\ntype IPromiseList = Array<{ subPromiseList: Array<IPromiseList> } & ({ type: \"qjson\" | \"masterPage\", qJsonPath: string, qProm: Promise<IQJSon> } | { type: \"domainComp\", compName: string, compPath?: string, prom: Promise<void> })>;\n\n\nexport class QJsonCollector {\n    moduleManager: IModuleManager\n\n    constructor({ moduleManager }: { moduleManager: IModuleManager }) {\n        this.moduleManager = moduleManager;\n    }\n\n    public collectQJson(qjson: IQJSon, qjsonPath: string | undefined, dory: IDory, qjsonRetrieve: (qJsonPath: string) => Promise<IQJSon>, doryJr: IDoryJr | undefined, options: { qLang?: ScriptLang, level?: number }): Promise<IQJsonCollectionResult> {\n        let promiseList: IPromiseList = [];\n        const enableMasterPage = dory.GetEditMode();\n        const { qLang, level = 0 } = options;\n\n        const traverseJson = (childCJson: Array<ICompJson | null>) => {\n            if (!childCJson) { return; }\n\n            childCJson.forEach(async comp => {\n                if (!comp) { return; }\n\n                switch (comp.T) {\n                    case knownComps.customComponent.name: case knownComps.renderingComponent.name:\n                        const qjsonPath = dory.Evaluate({ script: comp.P[knownComps.customComponent.props.qjsonPath]?.H, response: null, lang: LangCalc.getLang({ ctrl: comp, qLang }) });\n                        qjsonPath && promiseList.push({ type: \"qjson\", qProm: qjsonRetrieve(qjsonPath), qJsonPath: qjsonPath, subPromiseList: [] });\n                        break;\n                    case knownComps.messaging.name:\n                        if (enableMasterPage) { break; }\n                        const masterPathProp = comp.P[knownComps.messaging.props.masterPath];\n                        const masterPagePath = masterPathProp && dory.Evaluate({ script: masterPathProp.H, response: null, lang: LangCalc.getLang({ ctrl: comp, qLang }) });\n                        masterPagePath && promiseList.push({ type: \"masterPage\", qProm: qjsonRetrieve(masterPagePath), qJsonPath: masterPagePath, subPromiseList: [] });\n                        break;\n                    default:\n                        //domain components\n                        const compProm = this.moduleManager.CheckComponent(comp.T, comp.CP);\n                        compProm && promiseList.push({ type: \"domainComp\", prom: compProm, compPath: comp.CP, compName: comp.T, subPromiseList: [] });\n                        break;\n                }\n\n                comp.C && Object.keys(comp.C).forEach(childKey => traverseJson(comp.C[childKey].c));\n            });\n        };\n\n        traverseJson(qjson.cJson);\n\n        return new Promise<IQJsonCollectionResult>(async (resolve, reject) => {\n            const lastMasterPath = doryJr?.GetLastHistory()?.masterData?.path;\n            let hasMaster = false;\n            let collectResult: IQJsonCollectionResult = { qjson };\n            let completedPromises = 0;\n            function goResolve() {\n                if (level == 0 && lastMasterPath && !hasMaster) { reject(new Error(\"Not implemented: Navigating from a page with a masterPage to a page with no masterPage\")); return; }\n                resolve(collectResult);\n            }\n            if (!promiseList.length) { goResolve(); return; }\n\n            await Promise.all(promiseList.map(async (promItem) => {\n                try {\n                    if (promItem.type == \"domainComp\") { await promItem.prom; return; }\n\n                    const awaitedQJson = await promItem.qProm;\n                    promItem.type == \"masterPage\" && (hasMaster = true) && (collectResult = this.handleMasterPage(awaitedQJson, promItem.qJsonPath, qjsonPath, lastMasterPath) || collectResult);\n                    await this.collectQJson(awaitedQJson, promItem.qJsonPath, dory, qjsonRetrieve, doryJr, { qLang, level: level + 1 });\n                } catch (err) {\n                    const errorCompName = promItem.type != \"domainComp\" ? promItem.qJsonPath : promItem.compName + (promItem.compPath ? \" \" + promItem.compPath : \"\");\n                    const logMessage = `Error on collectQJson ${promItem.type}: ${errorCompName}: ${(err as Error).message}`;\n                    Logger.Log({ logMessage, error: err, logType: LogType.Error });\n                    // goResolve(); // do not reject qjsonRetrieve promise otherwise it'll break the parent qjson rendering.                 \n                } finally {\n                    completedPromises++;\n                    if (completedPromises === promiseList.length) {\n                        goResolve();\n                    }\n                }\n            }));\n            goResolve();\n        });\n    }\n\n    private handleMasterPage(masterPageQJson: IQJSon, masterPagePath: string, realPagePath: string | undefined, lastMasterPath: string | undefined): IQJsonCollectionResult | undefined {\n        if (lastMasterPath == masterPagePath) {\n            Logger.Log({ logMessage: \"page has masterPage but previous page had the same master, so pass\", logType: LogType.Trace });\n            return undefined;\n        }\n        if (lastMasterPath && lastMasterPath != masterPagePath) { throw new Error(\"Not implemented: Navigating from a page with a masterPage to a page with a different masterPage\"); }\n\n        const masterQJsonClone = structuredClone(masterPageQJson); // if non existing in mobile, might consider if !structuredClone -> ser&deser with JSON\n        const renderingComp = QJsonHelper.findComponentByType(masterQJsonClone.cJson, knownComps.renderingComponent.name);\n        if (!renderingComp) {\n            Logger.Log({ logMessage: \"page had masterPage but masterPage does not have RenderingComponent\", logType: LogType.Warning });\n            return undefined;\n        }\n        if (!realPagePath) {\n            Logger.Log({ logMessage: \"page has a masterPage, but does not know self path\", logType: LogType.Warning });\n            return undefined;\n        }\n\n        // renderingComp.P.QJsonPath = { H: `quick.quick.return('${realPagePath}')`, T: \"prop\", HL: \"JS\" };\n        renderingComp.P.QJsonPath = { H: `'${realPagePath}'`, T: \"prop\", HL: \"QS\" };\n        return { qjson: masterQJsonClone, changedPath: masterPagePath };\n    }\n}\n\ndeclare function structuredClone<T>(value: T): T; // if non existing in mobile, might consider if typeof structuredClone == \"undefined\" -> ser&deser with JSON","import { ContextManager, IContextItem } from \"../../../../shrimp/context\";\nimport { Logger, LogType } from \"../../../../shrimp/helpers/logger\";\nimport { QJsonExtractHelper } from \"../../../../shrimp/helpers/qjsonParser/QJsonExtractHelper\";\nimport { IQJSon } from \"../../../../shrimp/interfaces/ComponentInterfaces/IQJson\";\nimport { IDictionaryNullable } from \"../../../../shrimp/interfaces/IDictionaryNullable\";\nimport { MobileAnimationType } from \"../../../../shrimp/interfaces/quick/INavigationManager\";\nimport { IShellConfiguration } from \"../../../../shrimp/interfaces/quick/IShellConfiguration\";\nimport { IDory } from \"../../../../shrimp/interfaces/RenderingInterfaces/IDory\";\nimport { IDoryJr } from \"../../../../shrimp/interfaces/RenderingInterfaces/IDoryJr\";\nimport { IModuleManager } from \"../../interfaces/construction/IModuleManager\";\nimport { IQJsonRetriever, QJsonRetrievedType } from \"../../interfaces/construction/IQJsonRetriever\";\nimport { DoryRenderer } from \"../Renderer\";\nimport { QJsonCollector } from \"./QJsonCollector\";\n\ntype QJsonPoolType = IDictionaryNullable<IQJSon | Promise<IQJSon> | ((pool: QJsonPoolType) => Promise<IQJSon>)>;\nfunction importer(name: keyof typeof import(\"../../customComponents/index\")) {\n    return async (pool: QJsonPoolType) => {\n        const comps = await import(\"../../customComponents/index\");\n        Object.keys(comps).forEach(key => pool[key] = comps[key]);\n        return comps[name];\n    }\n}\n\nexport class QJsonPool implements IContextItem {\n    public static contextName: string = \"QJsonPool\";\n\n\n    public contextName = QJsonPool.contextName;\n\n    private qJsonPool: QJsonPoolType = {};\n    private qjsonRetriever: IQJsonRetriever;\n    private qjsonCollector: QJsonCollector\n    private moduleManager: IModuleManager;\n\n    constructor({ qjsonRetriever, moduleManager }: { qjsonRetriever: IQJsonRetriever, moduleManager: IModuleManager }) {\n        this.qjsonRetriever = qjsonRetriever;\n        this.moduleManager = moduleManager;\n        this.qjsonCollector = new QJsonCollector({ moduleManager });\n        this.ResetPool();\n    }\n\n    public ResetPool() {\n        const self = this;\n        this.qJsonPool = {\n            get \"qjson://QLegend\" (){\n                return importer(\"QLegend\")(self.qJsonPool)\n            },\n            get \"qjson://QCaptcha\" (){\n                return importer(\"QCaptcha\")(self.qJsonPool)\n            },\n            get \"qjson://QDynamicFields\" (){\n                return importer(\"QDynamicFields\")(self.qJsonPool)\n            },\n            get  \"qjson://QQRCode\" (){\n                return importer(\"QQRCode\")(self.qJsonPool)\n            },\n        };\n    }\n\n    public get ModuleManager(): IModuleManager {\n        return this.moduleManager;\n    }\n\n\n    public async retrieveAndFillQjsonAsync({ qjson, dory, doryJr }: { qjson: QjsonData, dory: IDory, doryJr?: IDoryJr }) {\n        const self = this;\n        const qjsonData = qjson;\n\n        const extractQjson = async function(qjsonStringProm: Promise<QJsonRetrievedType>): Promise<IQJSon>{\n            const qjsonString = await qjsonStringProm;\n            const qjson = <IQJSon>QJsonExtractHelper.qJsonExtractor(await qjsonStringProm);\n            return qjson;\n        };\n        const qjsonRetrieveFunc = async function (qjsonPath: string, fixSyncResolve?: boolean): Promise<IQJSon> {\n            // const promData = CreatePromiseData<IQJSon>(undefined, { fixSyncResolve });\n            let qjson = self.qJsonPool[qjsonPath];\n            if (qjson) {\n                if (typeof qjson == \"function\") {\n                    return qjson(self.qJsonPool);\n                } else if (qjson instanceof Promise) {\n                    return await qjson;\n                } else {\n                    return qjson;\n                }\n            }\n            else {\n                const qjsonStringProm = self.qjsonRetriever.retrieveQJsonAsync(qjsonPath, qjsonData.options);\n                let disablePagePool = self.qjsonRetriever.disablePagePool;\n                try {\n                    const qjsonProm = extractQjson(qjsonStringProm);\n                    if (!disablePagePool) {\n                        self.qJsonPool[qjsonPath] = qjsonProm;\n                    }\n                    qjson = await qjsonProm;\n                    if (!disablePagePool) {\n                        self.qJsonPool[qjsonPath] = qjson;\n                    }\n                } catch (ex) {\n                    Logger.Log({ logMessage: `qjson error: ${qjsonPath} has error`, logType: LogType.Trace, additional: ex, minEngineLogLevel: dory.GetLogParams()?.minEngineLogLevel });\n                    throw ex;\n                }\n\n                return qjson;\n            }\n        };\n        const qjsonContent = qjson.type == \"content\" ? qjson.content : await qjsonRetrieveFunc(qjson.path, true);\n        const qjsonPath = qjson.type == \"content\" ? undefined : qjson.path;\n        const qjsonToRender = await this.qjsonCollector.collectQJson(qjsonContent, qjsonPath, dory, qjsonRetrieveFunc, doryJr, { qLang: qjsonContent.opt?.QL });\n        return qjsonToRender;\n    }\n\n    public getCJson(qjsonPath: string): IQJSon | undefined {\n        return <IQJSon>this.qJsonPool[qjsonPath];\n    }\n\n}\n\nexport type QjsonData = { type: \"content\", content: IQJSon, options?: { disableLoading?: boolean, mobileAnimation?: MobileAnimationType } } | { type: \"path\", path: string, options?: { disableLoading?: boolean, mobileAnimation?: MobileAnimationType } };","export const knownComps = { // These are well known component names. Do not extend this list to all components.\n    renderingComponent: {\n        name: \"RenderingComponent\", props: {\n            qjsonPath: \"QJsonPath\",\n        }\n    },\n    customComponent: {\n        name: \"CustomComponent\", props: {\n            qjsonPath: \"QJsonPath\",\n        }\n    },\n    messaging: {\n        name: \"Messaging\", props: {\n            masterPath: \"masterPath\",\n        }\n    },\n} as const;\n\n\nexport const mobileOnlyComponents = [\"QPieChart\", \"QQrReader\"]","import { ScriptLang } from \"../interfaces/Scripting/scriptLang\";\nimport { ICompJson } from \"../interfaces/ComponentInterfaces/ICompJson\";\nimport { TypeHelper } from \"./typeHelper\";\n\nexport interface ICompLocation {\n    compJson: ICompJson,\n    curPath: Array<string | number>\n}\n\nexport interface ICompParentLocation {\n    selfIndex: number | undefined,\n    parentArray: Array<ICompJson | null>,\n    parent: ICompJson | null\n}\n\nexport enum CompSearchKey {\n    PID,\n    EditorID,\n    Render\n}\nexport class QJsonHelper {\n    /**\n     * Make the calculation with given pageJson\n     * @param pageJson Given pageJson\n     * @param callBack Function to be handled. Return false to STOP traversing.\n     * @returns boolean\n     */\n    public static ForEachComp(\n        pageJson: Array<ICompJson>,\n        callBack: (compJson: ICompJson, path: Array<string | number>, info?: { compName: string, eID: string, parentCompJson?: ICompJson, compiledJson?: ICompJson }) => boolean,\n        compiledJson?: Array<ICompJson>,\n        reverseLook?: boolean\n    ) {\n        var traverse = function ({ curJson, path, parentCompJson, compiledJson }: { curJson: Array<ICompJson | null>, path: Array<string | number>, parentCompJson?: ICompJson, compiledJson?: Array<ICompJson> }) {\n\n            if (!curJson || curJson.length === 0) { console.error(\"curJson is empty or undefined\"); return; }\n            const step = reverseLook ? -1 : 1;\n            const start = reverseLook ? curJson.length - 1 : 0;\n            const end = reverseLook ? -1 : curJson.length;\n            \n            for (let i = start; i !== end; i += step) {\n                const compJson = curJson[i];\n                const cJson = compiledJson?.[i];\n              if (!compJson) {continue;}\n                path.push(i);\n                if (callBack(compJson, path.map(item => item), { compName: compJson.T, eID: compJson._Editor.eID, parentCompJson, compiledJson: cJson }) === false) {\n                    return false;\n                }\n                if (compJson.C) {\n                    for (var childNamed in compJson.C) {\n                        path.push(childNamed);\n                        if (traverse({ curJson: compJson.C[childNamed].c, path, parentCompJson: compJson, compiledJson: cJson?.C[childNamed]?.c }) === false) {\n                            return false;\n                        }\n                        path.pop();\n                    }\n                }\n                path.pop();\n            }\n        }\n        traverse({ curJson: pageJson, path: [], compiledJson });\n    }\n\n    public static findComponentByType(curJson: Array<ICompJson>, type: \"RenderingComponent\") {\n        let foundCompJson: ICompJson | undefined;\n        QJsonHelper.ForEachComp(curJson, (compJson) => {\n            if (compJson.T != type) { return true; }\n            foundCompJson = compJson;\n            return false;\n        });\n        return foundCompJson;\n    }\n\n    /**\n     * @deprecated Please use QJsonHelper.FindParentArrayPath\n     */\n    public findParentArrayPath(path: (string | number)[], pageJson: Array<ICompJson>): ICompParentLocation {\n        return QJsonHelper.FindParentArrayPath(path, pageJson);\n    }\n\n    /**\n     * Find json and path with given path in the given pageJson\n     * @param path Sample path: [3,default,2] \n     * @param pageJson Given pageJson\n     * @returns ICompParentLocation\n     */\n    public static FindParentArrayPath(path: (string | number)[], pageJson: Array<ICompJson>): ICompParentLocation {\n        let parent: ICompJson | null = null;\n        const selfIndex = <number>path.pop();\n        if (path.length == 0) {\n            return { selfIndex, parentArray: pageJson, parent: null };\n        }\n        let target: Array<ICompJson | null> = pageJson;\n\n        const typeHelper = new TypeHelper();\n\n        //Sample path: [3,default,2] --> [ {},{},{},{C:{default: [{}, {}, {BURADASIN}]}}  ]\n        for (let i = 0; i < path.length; i++) {\n            const curPath = path[i];\n            if (typeHelper.isObject(target)) {\n                parent = <any>target;\n                target = parent?.C[curPath]?.c || [];\n            } else { //array \n                target = <any>target[<any>curPath] || [];\n            }\n        }\n        return { selfIndex: selfIndex, parentArray: target, parent: parent };\n    }\n\n    /**\n     * @deprecated please use QJsonHelper.FindCompBySearchField\n     */\n    public findCompBySearchField(pageJson: Array<ICompJson>, value: string, componentPropertySearchKey: CompSearchKey = CompSearchKey.EditorID): ICompLocation | null {\n        return QJsonHelper.FindCompBySearchField(pageJson, value, componentPropertySearchKey);\n    }\n\n    /**\n     * Search the given pageJson with key and value parameters\n     * @param pageJson Given pageJson\n     * @param value To be searched value\n     * @param componentPropertySearchKey Search key\n     * @returns ICompLocation or null\n     */\n    public static FindCompBySearchField(pageJson: Array<ICompJson>, value: string, componentPropertySearchKey: CompSearchKey = CompSearchKey.EditorID, reverseLook?: boolean): ICompLocation | null {\n        let retVal: { compJson: ICompJson, curPath: Array<string | number> } | null = null;\n\n        // Switch outside the traversal to minimize checks in each iteration\n        const propertyAccessor = (compJson: ICompJson) => {\n            switch (componentPropertySearchKey) {\n                case CompSearchKey.PID: return compJson.P?.ID?.H;\n                case CompSearchKey.Render: return compJson.P?.Render?.H;\n                case CompSearchKey.EditorID: default: return compJson._Editor?.eID;\n            }\n        };\n\n        QJsonHelper.ForEachComp(<Array<ICompJson>>pageJson, (compJson, curPath) => {\n            if (propertyAccessor(compJson) === value) {\n                retVal = { compJson, curPath: curPath! };\n                return false; // Stop traversal\n            }\n            return true; // Continue traversal\n        }, undefined, reverseLook);\n\n        return retVal;\n    }\n\n    /**\n     * Parse event parameters\n     * @param eventParameters event parameters QS: x, y, z | TS: x: string, y: {a:number}, z: number\n     */\n    public static ParseParameters(eventParameters?: string, handlerLang?: ScriptLang): Array<{ name: string, type?: string }> | undefined {\n        if (eventParameters) {\n            const paramConverter: (item: string) => { name: string, type?: string } = handlerLang == \"TS\" || handlerLang == \"JS\" ? (item => ({ name: item.split(\":\")[0], type: item.split(\":\")[1] })) : (item => ({ name: item }));\n            return eventParameters.split(\",\").map(paramConverter);\n        }\n        return undefined;\n    }\n\n    /**\n     * Find component json path by EID\n     * @returns path Sample path: [3,default,2]\n     */\n    public static FindCompPathByEID(qjson: Array<ICompJson>, compEID: string) {\n        let path: Array<string | number> | undefined;\n        QJsonHelper.ForEachComp(qjson, (comp, curPath) => { if (comp._Editor.eID == compEID) { path = curPath; return false; } return true; });\n        return path;\n    }\n}","import { IMessage } from \"./logger\";\n\nexport interface IBulkManager {\n    logHandler: ((messages: IMessage) => void) | undefined;\n    clear?: () => void;\n    writeMessage(message: IMessage): void;\n    bulkSize?: number;\n}\n\nexport class BulkManager implements IBulkManager {\n    logHandler: ((messages: IMessage | Array<IMessage>) => void) | undefined;\n    clear?: () => void;\n    bulkMessages: Array<IMessage> = [];\n    bulkSize?: number | undefined;\n    totalBulk = 0;\n\n    /**\n     * Vomit the bulk messages into callback function of the shell\n     * @param message Log message that to be added\n     */\n    writeMessage(message: IMessage) {\n        if (this.bulkSize) {\n            this.totalBulk += message.message.length;\n            this.bulkMessages.push(message);\n            if (this.totalBulk >= this.bulkSize) {\n                this.logHandler?.(this.bulkMessages);\n                this.totalBulk = 0;\n                this.bulkMessages = [];\n            }\n        } else {\n            this.logHandler?.(message);\n        }\n    }\n}","//IE11 fetch pollyfill https://github.com/github/fetch -> npm: whatwg-fetch\n//IE11 promise pollyfill https://www.npmjs.com/package/promise-polyfill -> npm: promise-polyfill\ninterface ModuleObject<exportingInterface> {\n    exports?: exportingInterface\n}\n\nexport class LazyLoader {\n\n    static LoadModule<exportingInterface>(moduleBody: string) {\n        const moduleObject: ModuleObject<exportingInterface> = {};\n        const module = new Function(\"module\", \"exports\", moduleBody);\n        const temp_export = {};\n        module(moduleObject, temp_export);\n        const exported = moduleObject.exports;\n        return exported;\n    }\n\n    static FetchModuleBody(url: string) {\n        return new Promise<{ body: string, status: number }>((res, rej) => fetch(url).then(response => response.text().then(body => res({ body, status: response.status })).catch(rej)).catch(rej));\n    }\n}","import { LogType } from \"../interfaces/ComponentInterfaces/ILogger\";\nimport { BulkManager, IBulkManager } from \"./bulkManager\";\nimport { WindowHelper } from \"./windowHelper\";\n\n// Log type values are equal to their acceptable byte size\n// 1 char * 2 = 1 byte\nexport { LogType };\n\nexport interface ILogParams {\n    yamlLogType?: LogType\n    minEngineLogLevel?: LogType\n    logBulkSize?: number\n}\n\ninterface ILogger {\n    Log({ logMessage, logType, error }: { logMessage: string, logType?: LogType, error?: Error }): void;\n}\n\nexport interface IMessage {\n    message: string\n    type: string\n    time: string\n    caller: string\n}\n\nclass Singularizer {\n    public static trySingularize(name: string, instance: any): boolean {\n        if (!this.singularized(name)) {\n            (<any>WindowHelper.Instance.Window)[name] = instance;\n            return true;\n        }\n        return false;\n    }\n    public static singularized(name: string) {\n        return (<any>WindowHelper.Instance.Window)[name];\n    }\n    public static getFreeName(name: string) {\n        const win: any = WindowHelper?.Instance.Window ?? {};\n        let counter = 0;\n        while (win[name + \"_\" + ++counter]);\n        return name + \"_\" + counter;\n    }\n}\n\nexport class Logger implements ILogger {\n    constructor() {\n        // i know this functions are static but in rallyshell we have shrimp not quick_shrimp.\n        // and the first caller of the functions are throws 'not implemented exception' because of lazy load.\n        return { Log: this.Log };\n    }\n    private static windowName = Singularizer.getFreeName(\"shrimp_shelldorynemo_pulsar_lbm\");\n    // Window name should not be changed at any time. It will be always the same.\n    // private static windowName = \"shrimp_shelldorynemo_pulsar_lbm\";\n    /**\n     * ! Carefull using this static variable\n     */\n    private static logBulkManager: IBulkManager | undefined;\n\n\n    private static get LogBulkManager() {\n        if (!Logger.logBulkManager) {\n            Logger.logBulkManager = Singularizer.singularized(Logger.windowName);\n        }\n        return Logger.logBulkManager;\n    }\n    private static logLevel = [LogType.MobilDebug, LogType.Trace, LogType.Debug, LogType.Warning, LogType.Error];\n    /**\n     * Whenever the shell initiates its callback, this handling also will be initiated as well\n     * ? Static may change? Will see\n     * @param timer Seconds of writing down the messages\n     * @param callBack Function that handles the messages, comes from shell.\n     */\n    static Init({ callBack, bulkSize }: { callBack?: ((messages: IMessage) => void), bulkSize?: number }) {\n        this.logBulkManager = new BulkManager();\n        this.logBulkManager.logHandler = callBack;\n        this.logBulkManager.bulkSize = bulkSize;\n        Singularizer.trySingularize(this.windowName, this.logBulkManager);\n    }\n\n    /**\n     * Console log function\n     * @param logMessage Message that to be written to the console\n     * @param logType console type(Debug, Trace, Warning, Error)\n     * @param backgroundColor message background color\n     * @param color message text color  \n     * @param additional additional info for logging \n     * @param yamlLogType\n     * @returns void\n     */\n    public static Log({ logMessage, logType = LogType.Debug, error, backgroundColor = null, textColor = null, additional = null, source, isClientLog = false, yamlLogType, minEngineLogLevel, ownerEventName }:\n        { logMessage: any, logType?: LogType, error?: unknown, backgroundColor?: string | null, textColor?: string | null, additional?: any, source?: \"model\", isClientLog?: boolean, yamlLogType?: LogType, minEngineLogLevel?: LogType, ownerEventName?: string }): void {\n\n        let colorOptions = backgroundColor || textColor ? \"background: \" + backgroundColor + \"; color: \" + textColor : null;\n        let targetLog: undefined | ((message: any, ...optionalParams: Array<any>) => void);\n        switch (true) {\n            case logType == LogType.MobilDebug && this.logLevel.indexOf(LogType.MobilDebug) > -1:\n                targetLog = console.log;\n                break;\n            case (logType == LogType.Debug && this.logLevel.indexOf(LogType.Debug) > -1):\n            case (logType == LogType.Trace && this.logLevel.indexOf(LogType.Trace) > -1):\n                targetLog = console.log;\n                break;\n            case (logType == LogType.Error && this.logLevel.indexOf(LogType.Error) > -1):\n                targetLog = console.error;\n                break;\n            case (logType == LogType.Warning && this.logLevel.indexOf(LogType.Warning) > -1):\n                targetLog = console.warn;\n                break;\n            case true:\n                break;\n        }\n\n        let params: [any, ...any[]] = [logMessage];\n\n        if (colorOptions && typeof logMessage === \"string\") {\n            params[0] = '%c' + logMessage;\n            params.push(colorOptions);\n        }\n        if (error) {\n            params.push(error);\n        }\n\n        if (additional) {\n            params.push(additional);\n        }\n\n        if (source) { // MUST BE LAST!!!! (used in mobile sim. -> editor logging)\n            params.push({ source });\n        }\n        if (!Logger.checkEventNameIsSpecial(ownerEventName) || isClientLog) {\n            params[3] = { clientOnlyLog: true };    \n        }\n        targetLog?.apply(console, params);\n\n        if (!Logger.checkEventNameIsSpecial(ownerEventName)) {\n            return\n        }\n\n        if (isClientLog || (isClientLog && yamlLogType && yamlLogType <= logType) || minEngineLogLevel && minEngineLogLevel <= logType) {\n            this.prepareClientLog(logMessage, logType);\n        }\n    }\n\n    public static checkEventNameIsSpecial(eventName?: string): boolean {\n        return eventName ? !(eventName === \"onBeforeRequest\" || eventName === \"onAfterResponse\" || eventName === \"logHandler\") : true;\n    }\n\n    /**\n     * Log messages are controlled by their size and add them to the bulk array with type, date and caller function name\n     * @param logMessage Message that will be written to the server\n     * @param logType Type of log message   \n     */\n    public static prepareClientLog(logMessage: any, logType: LogType) {\n        let currentDateFormat = new Date(Date.now());\n        let clientDate = currentDateFormat.getFullYear() + \".\" + (\"0\" + (currentDateFormat.getMonth() + 1)).slice(-2) + \".\" + (\"0\" + currentDateFormat.getDate()).slice(-2) + \" \" +\n            currentDateFormat.getHours() + ':' + (\"0\" + currentDateFormat.getMinutes()).slice(-2) + ':' + (\"0\" + currentDateFormat.getSeconds()).slice(-2) + ':' + currentDateFormat.getMilliseconds();\n        ;\n        let message: string;\n        let whoCallMe = this.getCalleFunctionName();\n        if (typeof logMessage !== \"string\") {\n            try {\n                message = this.shorten(JSON.stringify(logMessage), logType);\n            }\n            catch (error) {\n                message = \"Can not stringfy the given log. Type of log data is: \" + Object.prototype.toString.call(logMessage);\n            }\n        }\n        else {\n            message = this.shorten(logMessage, logType);\n        }\n        Logger.LogBulkManager?.writeMessage({ message: message, type: LogType[logType], time: clientDate, caller: whoCallMe });\n    }\n\n    /**\n     * Can't call Log.calle.caller beacuse of the TypeScript classes are on \"strict mode\"\n     * JS doesn't allow to arguments.callee.caller on strict mode\n     * So just throw an simple Error and get the latest function name\n     * returns String\n     */\n    private static getCalleFunctionName(): string {\n        // try {\n        //     throw new Error();\n        // }\n        // catch (e) {\n        //     try {\n        //         return e.stack.split('at ')[4].split(' ')[0];\n        //     } catch (e) {\n        //         return '';\n        //     }\n        // }\n        return '';\n    }\n\n    /**\n     * Clears the bulk of messages \n     */\n    public static clearLogs() {\n        Logger.LogBulkManager?.clear?.();\n    }\n\n    /**\n     * Trim the message with size of the log type\n     * @param logMessage log message\n     * @param logType Log type that will be controlled\n     */\n    private static shorten(logMessage: string, logType: LogType) {\n        return logMessage\n        \n        // if (logType > logMessage.length) {\n        // } else {\n        //     return \"Non trimmed message size is: \" + logMessage.length;\n        // }\n    };\n\n    /**\n     * @deprecated do not use. Use Logger.Log(...)\n     */\n    public Log(options: { logMessage: any, logType?: LogType, error?: unknown, backgroundColor?: string | null, textColor?: string | null, additional?: any, writeToConsole?: boolean, source?: \"model\" }): void {\n        return Logger.Log(options);\n    }\n}","export class QJsonContentParser{\n    public static ParseQJsonContent(jsonString: string) {\n        let json: string = jsonString;\n        if (jsonString.indexOf(\"let pjson =\") > -1) {\n            let jsonSplitted = jsonString.split(\"let pjson =\");\n            jsonSplitted = jsonSplitted[1].split(';\\nexport')[0].split(';\\r\\nexport');\n            json = jsonSplitted[0];\n        } else if (json.indexOf(\"rally_microUI\") > -1) {\n            const registerIndex = json.indexOf(\"registerQJson\");\n            const jsonStartIndex = json.indexOf(\",\", registerIndex) + 1;\n    \n            json = json.substring(jsonStartIndex, json.length - 2);\n        }\n    \n        return JSON.parse(json);\n    }\n}","import { QJsonParserV2, removeCR } from \"./QJsonParserV2\";\nimport { IQJsonParser } from \"./IQJsonParser\";\nimport { QJsonContentParser } from \"./QJsonContentParser\";\n\n\nexport class QJsonExtractHelper {\n    \n    public static qJsonExtractor(qjsonData: string | { qjson: string }) {\n        const jsonString = QJsonExtractHelper.qJsonMediumDecider(qjsonData);\n        \n        if (jsonString.startsWith(\"qjson-\")) {\n            let version = removeCR(jsonString.substring(\"qjson-\".length, jsonString.indexOf(\"\\n\")));\n            return parsers[version].Parse(jsonString);\n        }\n\n        return QJsonExtractHelper.ParseQJsonContent(jsonString);\n    }\n\n\n    private static qJsonMediumDecider(qjsonData: string | { qjson: string }): string {\n        if (typeof qjsonData == \"string\") { //rally | symphony\n            return qjsonData.startsWith('{\"qjson\":\"') ? JSON.parse(qjsonData).qjson : qjsonData; // symphony : other\n        } else {\n            const qjsonString = JSON.stringify(qjsonData);\n            return qjsonData.qjson || qjsonString; //symphony & websdk.axios\n        }\n    }\n\n    private static ParseQJsonContent(jsonString: string) {\n        return QJsonContentParser.ParseQJsonContent(jsonString);\n    }\n}\n\nconst parsers: Record<string, IQJsonParser> = { v2: new QJsonParserV2() };","//////////////////////////////////SAMPLE V2 QJSON\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n/**\n * @see \\test\\qjsonV2Tests.spec.ts\n */\n//\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\SAMPLE V2 QJSON//////////////////////////////////\n\nimport { IQJSon } from \"../../interfaces/ComponentInterfaces/IQJson\";\nimport { IQJsonParser } from \"./IQJsonParser\";\nimport { QJsonContentParser } from \"./QJsonContentParser\";\n\ntype QJsonFileHeaderTypes = \"source\" | \"compiled\" | \"qjson\";\n\ninterface QJsonFileHeaders extends Record<string, string | undefined> {\n    type: QJsonFileHeaderTypes;\n    name: string;\n}\n\nclass QJsonParserV2 implements IQJsonParser {\n    private static boundary = \"-------------------\" + \"QJSONFileBoundary\" + \"-----------------------------\";\n    public static headerPrefix = \"qjson-\";\n\n    public static QJsonBodyToString(qjson: IQJSon, unformatQjson?: boolean) {\n        return \"let pjson = \" +\n           ( unformatQjson == true ? JSON.stringify(qjson) : JSON.stringify(qjson, null, '\\t') ) +\n            \";\\r\\n\" +\n            \"export default pjson\";\n    }\n\n\n    public Serialize(qjson: IQJSon) {\n        const bodundary = `${QJsonParserV2.boundary}\\r\\n`;\n        const header = `${QJsonParserV2.headerPrefix}v2\\r\\nboundary: ${bodundary}\\r\\n${bodundary}`;\n        const serializeFile = (fileName: string, type: QJsonFileHeaderTypes, fileBody: string) => `name: ${fileName}\\r\\ntype: ${type}\\r\\n\\r\\n${fileBody}`;\n        const files = qjson.files;\n        const cFiles = qjson.cFiles;\n        let qjsonFile;\n        try { qjson.files = undefined; qjson.cFiles = undefined; qjsonFile = serializeFile(\"qjson\", \"qjson\", QJsonParserV2.QJsonBodyToString(qjson)); }\n        finally { qjson.files = files; qjson.cFiles = cFiles } // atomic\n        const fileItems = files ? bodundary + Object.keys(files).map(fileName => serializeFile(fileName, \"source\", files[fileName])).join(bodundary) : \"\";\n        const cFileItems = cFiles ? bodundary + Object.keys(cFiles).map(fileName => serializeFile(fileName, \"compiled\", cFiles[fileName])).join(bodundary) : \"\";\n        return header + qjsonFile + fileItems + cFileItems;\n    }\n\n    public Parse(jsonString: string) {\n        let curLine = this.nextLine(jsonString, 0);\n\n        let fileHeaders = this.extractHeaders(jsonString, curLine.lastIndex);\n        const boundary = fileHeaders.headers.boundary!;\n        let lastIndex = fileHeaders.lastIndex;\n\n        const files: Record<string, { headers: QJsonFileHeaders, content: string }> = {};\n        const cFiles: typeof files = {};\n        do {\n            const section = this.getSection(jsonString, boundary, lastIndex);\n            const targetFiles = section.headers.type == \"compiled\" ? cFiles : files;\n            targetFiles[section.headers.name!] = { headers: section.headers, content: section.section };\n            lastIndex = section.lastIndex;\n        } while (lastIndex != -1);\n\n        const qjson: IQJSon = QJsonContentParser.ParseQJsonContent(files[\"qjson\"].content);\n        delete files.qjson;\n\n        const qjsonFiles: typeof qjson.files = qjson.files = {};\n        const qjsonCFiles: typeof qjson.cFiles = qjson.cFiles = {};\n        Object.keys(files).forEach(fileName => qjsonFiles[fileName] = files[fileName].content);\n        Object.keys(cFiles).forEach(fileName => qjsonCFiles[fileName] = cFiles[fileName].content);\n        return qjson;\n    }\n\n    private getSection(str: string, boundary: string, lastIndex: number): { headers: QJsonFileHeaders; section: string; lastIndex: number; } {\n        let headers = this.extractHeaders(str, lastIndex);\n        const section = this.getTillBoundary(str, boundary, headers.lastIndex);\n        return { headers: headers.headers, section: section.section, lastIndex: section.lastIndex };\n    }\n\n    private getTillBoundary(str: string, boundary: string, lastIndex: number): { section: string, lastIndex: number } {\n        const nextBoundaryIndex = str.indexOf(boundary, lastIndex);\n        if (nextBoundaryIndex == -1) {\n            return { section: str.substring(lastIndex), lastIndex: -1 };\n        }\n        return { section: str.substring(lastIndex, nextBoundaryIndex), lastIndex: nextBoundaryIndex + boundary.length + 1 };\n    }\n    private extractHeaders(str: string, lastIndex: number) {\n        const headersBucket: Record<string, string | undefined> = {};\n        let curLine = { line: \"\", lastIndex };\n        do {\n            curLine = this.nextLine(str, curLine.lastIndex);\n            if (!curLine.line) { break; } // headers section end\n\n            const lineData = this.parseLine(curLine.line);\n            if (!lineData) { continue; } // line is not parsable skip\n\n            headersBucket[lineData.key] = lineData.value;\n        } while (curLine.lastIndex != -1);\n\n        return { headers: headersBucket as QJsonFileHeaders, lastIndex: curLine.lastIndex };\n    }\n\n\n\n    private parseLine(line: string) {\n        const commaIndex = line.indexOf(\":\");\n        if (commaIndex == -1) { return undefined; }\n\n        return { key: line.substring(0, commaIndex).trim(), value: line.substring(commaIndex + 1).trim() };\n    }\n\n    private nextLine(str: string, lastIndex: number): { line: string, lastIndex: number } {\n        const lineEnd = str.indexOf(\"\\n\", lastIndex);\n        let line = removeCR(str.substring(lastIndex, lineEnd == -1 ? undefined : lineEnd));\n        return { line, lastIndex: lineEnd + 1 || -1 };\n    }\n}\n\nfunction removeCR(str: string) {\n    return str.endsWith(\"\\r\") ? str.substring(0, str.length - 1) : str;\n}\n\nexport { QJsonParserV2, removeCR };","const src = (document.currentScript as HTMLScriptElement).src;\nconst pathRoot = src.substring(0, src.lastIndexOf(\"/\"));\n\nexport class ScriptRootPathHelper {\n    public static getScriptRoot() {\n        return pathRoot;\n    }\n    public static concatUrl(url1: string, url2: string) {\n        return (url1.endsWith(\"/\") ? url1 : url1 + \"/\") + (url2.startsWith(\"/\") ? url2.substring(1) : url2);\n    }\n}","export class Singularizer {\n    public static trySingularize(name: string, targetObject:any, instance: any): any {\n        let retVal = targetObject[name];\n\n        if (!retVal) {\n            retVal = targetObject[name] = instance;\n        }\n        return retVal;\n    }\n}","export interface ITypeHelper {\n    GetObjectType(param: object): string;\n\n    isArray(param: object): boolean;\n\n    isString(param: any): boolean;\n\n    isNumber(param: object): boolean;\n    isJsonString(param: string): boolean;\n    isNull(param: object): boolean;\n    isFunction(param: object): boolean;\n    isObject(param: object): boolean;\n    isBool(param: object): boolean;\n    isDateString(param: string): boolean;\n    isBlob(param: any): boolean;\n\n    cloneObject(obj: any): any;\n}\n\nexport class TypeHelper implements ITypeHelper {\n    isJsonString(param: string): boolean {\n        try {\n            JSON.parse(param);\n        } catch (e) {\n            return false;\n        }\n        return true;\n    }\n    GetObjectType(param: object): string {\n        return Object.prototype.toString.call(param);\n    };\n    /** @deprecated use instanceof for typescript type distinction intellisense. ex: if (variable instanceof Array)*/\n    isArray(param: any): boolean {\n        return this.GetObjectType(param) == \"[object Array]\";\n    };\n\n    isString(param: any): boolean {\n        return this.GetObjectType(param) === \"[object String]\";\n    };\n\n    isNumber(param: any): boolean {\n        return this.GetObjectType(param) === \"[object Number]\";\n    };\n\n    isNull(param?: any): boolean {\n        return param === null || param === undefined;\n    };\n    isFunction(param: any): boolean {\n        return this.GetObjectType(param) === \"[object Function]\";\n    };\n    isObject(param: any): boolean {\n        return this.GetObjectType(param) === \"[object Object]\";\n    };\n    isBool(param: any): boolean {\n        return this.GetObjectType(param) === \"[object Boolean]\";\n    };\n\n    isBooleanConstructor(param: any): boolean {\n        return param?.toString() == \"function Boolean() { [native code] }\";\n    }\n\n    isStringConstructor(param: any): boolean {\n        return param?.toString() == \"function String() { [native code] }\"\n    }\n\n    isArrayConstructor(param: any): boolean {\n        return param?.toString() == \"function Array() { [native code] }\"\n    }\n\n    isObjectConstructor(param: any): boolean {\n        return param?.toString() == \"function Object() { [native code] }\"\n    }\n    \n    isNumberConstructor(param: any): boolean {\n        return param?.toString() == \"function Number() { [native code] }\"\n    }\n    isDateString(param: any): boolean {\n        if (!this.isString(param)) {\n            return false;\n        }\n        return !isNaN(Date.parse(param));\n    };\n    isDate(param: object): boolean {\n        return this.GetObjectType(param) === \"[object Date]\";\n    }\n\n    isFile(param: object): boolean {\n        return this.GetObjectType(param) === \"[object File]\";\n    }\n\n    isBlob(param: any) {\n        var MyBlob = new Blob([param]);\n        return MyBlob instanceof Blob // true\n    }\n\n    cloneObject(obj: any): any {\n        var copy;\n\n        // Handle the 3 simple types, and null or undefined\n        if (null == obj || \"object\" != typeof obj) {\n            return obj;\n        }\n\n        // Handle Date\n        if (obj instanceof Date) {\n            copy = new Date();\n            copy.setTime(obj.getTime());\n            return copy;\n        }\n\n        // Handle Array\n        if (Array.isArray(obj)) {\n            copy = [];\n            for (var i = 0, len = obj.length; i < len; i++) {\n                copy[i] = this.cloneObject(obj[i]);\n            }\n            return copy;\n        }\n\n        // Handle Object\n        if (typeof obj === \"object\") {\n            copy = obj.constructor && obj.constructor.length < 1 ? new obj.constructor() : {};\n            for (var attr in obj) {\n                if (obj.hasOwnProperty(attr)) {\n                    copy[attr] = this.cloneObject(obj[attr]);\n                }\n            }\n            return copy;\n        }\n\n        throw new Error(\"Unable to copy obj! Its type isn't supported.\");\n    };\n}","import { ScriptRootPathHelper } from \"./scriptRootPathHelper\";\n\nexport class UrlHelper{\n    public static getScriptRoot() {\n        return ScriptRootPathHelper.getScriptRoot();\n    }\n    public static concatUrl(url1: string, url2: string) {\n        return ScriptRootPathHelper.concatUrl(url1, url2);\n    }\n    public static IsDirectUrl(url: string) {\n        return url.startsWith(\"http:\") || url.startsWith(\"https:\") || url.startsWith(\"blob:\");\n    }\n    public static GetDomain(urlString: string){\n        let url: {hostname: string, port: string, search: string, pathname: string, protocol: string};\n        try{\n            url = new URL(urlString);\n        }catch(ex){\n            const a = document.createElement(\"a\");\n            a.href = urlString;\n            url = a;\n        }\n        return url.protocol + \"//\" + url.hostname + (url.port ? \":\" + url.port : \"\");\n    }\n    public static ParseQuery(queryString: string | undefined) {\n        var query:Record<string, Array<string> | undefined> = {};\n        if (!queryString) { return query; }\n\n        var pairs = (queryString[0] === '?' ? queryString.substr(1) : queryString).split('&');\n        for (var i = 0; i < pairs.length; i++) {\n            var pair = pairs[i].split('=');\n            const curKey = decodeURIComponent(pair[0]);\n            let curItem = query[curKey];\n            if (!curItem){\n                curItem = [];\n                query[curKey] = curItem;\n            }\n            curItem.push(decodeURIComponent(pair[1] || ''));\n        }\n        return query;\n    }\n}","import { Logger, LogType } from \"./logger\";\nimport { IDictionary } from \"../interfaces/IDictionary\";\nimport { Singularizer } from \"./singularizer\";\n\nconst undefinedType: string = \"undefined\";\n\ninterface EventListenerCollection {\n    origAddEventListener: any,\n    origRemoveEventListener: any,\n    activeListeners: (IDictionary<Array<EventListenerOrEventListenerObject>>),\n    eventTarget: any\n}\n\nexport interface IDocument extends Partial<Document> {\n    addEventListener(type: string, listener: EventListenerOrEventListenerObject, options?: boolean | AddEventListenerOptions): void;\n    createElement(tagName: string, options?: ElementCreationOptions): HTMLElement;\n}\n\nexport interface IHistory extends Partial<History> {\n    pushState(data: any, title: string, url?: string | null): void;\n}\n\n\nexport interface IWindow extends Partial<Window> {\n\n}\nexport interface IWorker {\n    worker(scriptURL: string | URL, options?: WorkerOptions | undefined): Worker | undefined\n\n}\n\nexport class WindowHelper {\n\n    private doc: IDocument;\n    private hist: IHistory;\n    private win: IWindow;\n    private helperWorker?: IWorker;\n    private eventListeners: IDictionary<EventListenerCollection> | undefined;\n\n    constructor() {\n        this.doc = typeof (document) !== undefinedType ? document : {\n            addEventListener(type: string, listener: EventListenerOrEventListenerObject, options?: boolean | AddEventListenerOptions) {\n                //might simulate this in future...\n                Logger.Log({ logMessage: `Enviroment does not support document. Triggering document.addEventListener now, type is: ${type}`, logType: LogType.Warning });\n                (<EventListener>listener)(<any>{ target: { readyState: this.readyState } });\n            },\n            createElement(tagName: string, options?: ElementCreationOptions): HTMLElement {\n                return <any>{ tagName, options };\n            },\n            readyState: \"complete\"\n        };\n\n        this.hist = typeof (history) !== undefinedType ? history : {\n            pushState(data: any, title: string, url?: string | null) {\n                //might log data and url with additional data in logging\n                Logger.Log({ logMessage: `history.pushState not supported on Node. title: ${title}`, logType: LogType.Debug });\n            }\n        };\n\n        this.win = typeof (window) !== undefinedType ? window : {\n            setInterval: setInterval,\n            clearInterval: clearInterval,\n            setTimeout: setTimeout,\n            clearTimeout: clearTimeout,\n            atob: atob,\n            btoa: btoa\n        };\n\n        this.helperWorker = {\n            worker(scriptURL: string, options?: WorkerOptions | undefined) {\n                return typeof (Worker) !== undefinedType ? new Worker(scriptURL, options) : undefined;\n            }\n        }\n\n        // this.eventListeners = this.wrapEventListeners();\n    }\n    public set onPopState(value: ((ev: PopStateEvent) => any) | null) {\n        if (typeof (window) !== undefinedType) {\n            window.onpopstate = value\n        } else {\n            Logger.Log({ logMessage: \"onPopState not supported on Node.\", logType: LogType.Debug });\n        }\n    }\n    public get document() {\n        return this.doc;\n    }\n    public get history() {\n        return this.hist;\n    }\n    public get Window() {\n        return this.win;\n    }\n    public get Worker() {\n        return this.helperWorker;\n    }\n    public static Instance: WindowHelper = Singularizer.trySingularize(\"theOneWindow\", new WindowHelper().Window, new WindowHelper());\n\n}","export enum LogType {\n    Debug = 0,\n    MobilDebug = 1000,\n    Trace = 200000, //100Kb\n    Warning = 500000, //250Kb\n    Error = 1000000 // 500Kb\n}","import { ICompJson } from \"../ComponentInterfaces/ICompJson\";\nimport { IQJSon } from \"../ComponentInterfaces/IQJson\";\nimport { ScriptLang } from \"./scriptLang\";\n\nexport class LangCalc {\n    public static getLang({ self, ctrl, qJson, qLang }: { self?: ScriptLang, ctrl?: ICompJson, qJson?: IQJSon, qLang?: ScriptLang }) {\n        return self || ctrl?.O?.CL || (qJson?.opt?.QL || qLang);\n    }\n}","import { UrlHelper } from \"../../../common/shrimp/helpers/urlHelper\";\nimport { IContainerServices } from \"../../../common/shrimp/interfaces/quick/IContainerServices\";\nimport { IPlateauIAM } from \"../../../common/shrimp/interfaces/quick/IPlateauIAM\";\nimport { IWebSDKSettings } from \"../../../common/shrimp/interfaces/quick/IWebSDK\";\n\nexport class Legacy {\n\n    public static migrateLegacySettings(settings: any): IWebSDKSettings {\n\n        /* \n        csspath -> cssPath\n        domainURL, urlprefix  ->  qjsonURLPrefix\n        RegionalDefinition  ->  regionalDefinition\n        DomainModuleList -> domainModuleList\n        Backend -> backendInf\n        PredefinedBackendHeaders -> backendInf.PredefinedBackendHeaders\n        HeaderExceptionList -> backendInf.HeaderExceptionList\n        Header -> backendInf.Header\n        backendInf.singleTab -> singleTab\n        */\n\n        const legacySettingFields: Array<{ oldField: string, newField: string, log: string }> = [\n            { oldField: \"csspath\", newField: \"cssPath\", log: \"legacy Settings.yaml. change csspath -> cssPath\" },\n            { oldField: \"domainURL\", newField: \"qjsonURLPrefix\", log: \"legacy Settings.yaml. change domainURL -> qjsonURLPrefix\" },\n            { oldField: \"urlprefix\", newField: \"qjsonURLPrefix\", log: \"legacy Settings.yaml. change urlprefix -> qjsonURLPrefix\" },\n            { oldField: \"RegionalDefinition\", newField: \"regionalDefinition\", log: \"legacy Settings.yaml. change RegionalDefinition -> regionalDefinition\" },\n            { oldField: \"DomainModuleList\", newField: \"domainModuleList\", log: \"legacy Settings.yaml. change DomainModuleList -> domainModuleList\" },\n            { oldField: \"Backend\", newField: \"backendInf\", log: \"legacy Settings.yaml. Move Backend in to backendInf key.\" },\n            { oldField: \"PredefinedBackendHeaders\", newField: \"backendInf.PredefinedBackendHeaders\", log: \"legacy Settings.yaml. Move PredefinedBackendHeaders in to backendInf key.\" },\n            { oldField: \"HeaderExceptionList\", newField: \"backendInf.HeaderExceptionList\", log: \"legacy Settings.yaml. Move HeaderExceptionList in to backendInf key.\" },\n            { oldField: \"Header\", newField: \"backendInf.Header\", log: \"legacy Settings.yaml. Move Header in to backendInf key.\" },\n            { oldField: \"backendInf.singleTab\", newField: \"singleTab\", log: \"legacy Settings.yaml. Move Header in to backendInf key.\" },\n            { oldField: \"yamlLogType\", newField: \"appSettings.logging.yamlLogType\", log: \"legacy Settings.yaml. Move yamlLogType in to appSettings yamlLogType key.\" },\n            { oldField: \"minEngineLogLevel\", newField: \"appSettings.logging.minEngineLogLevel\", log: \"legacy Settings.yaml. Move minEngineLogLevel in to appSettings minEngineLogLevel key.\" },\n            { oldField: \"logBulkSize\", newField: \"appSettings.logging.logBulkSize\", log: \"legacy Settings.yaml. Move logBulkSize in to appSettings logBulkSize key.\" },\n        ];\n\n        const findOldFieldValue = (fieldPath: string) => {\n            var fieldPathArray = fieldPath.split('.');\n            var field = settings;\n            for (let i = 0; i < fieldPathArray.length; i++) {\n                var temp = field[fieldPathArray[i]];\n                if (!temp) { return }\n                if (i == fieldPathArray.length - 1) delete field[fieldPathArray[i]];\n                field = temp;\n            }\n            return field;\n        }\n\n        const setNewFieldValue = (value: string, fieldPathArray: string[], settings: any) => {\n            if (fieldPathArray.length == 1) {\n                if (!settings[fieldPathArray[0]]) { settings[fieldPathArray[0]] = value; }\n                return;\n            }\n            if (settings[fieldPathArray[0]] && typeof (settings[fieldPathArray[0]]) != \"object\") settings[fieldPathArray[0]] = {};\n            settings[fieldPathArray[0]] = settings[fieldPathArray[0]] || {};\n            setNewFieldValue(value, fieldPathArray.slice(1), settings[fieldPathArray[0]])\n        }\n\n        legacySettingFields.forEach(item => {\n            var oldField = findOldFieldValue(item.oldField);\n            if (oldField) {\n                setNewFieldValue(oldField, item.newField.split('.'), settings);\n            }\n        });\n\n        return settings;\n    }\n\n    /* \n     * @param url: (legacy applications url format: quick://<module_name>/<path_to_file>)\n     * @returns formattedURL for newBuild \n     */\n    public static fixLegacyPathFormat(url: string) {\n        if (url.startsWith(\"quick://\")) {\n            var splittedPath = url.substring(8).split('/')\n            return \"/microui/\" + splittedPath[0] + \"/qjson/\" + url.substring(splittedPath[0].length + 9)\n        } else {\n            return url;\n        }\n    }\n\n    public static containerServicesModifications(containerServices: IContainerServices | undefined, plateauIAM: IPlateauIAM | undefined) {\n        if (!containerServices) {\n            containerServices = {}\n        }\n        if (plateauIAM) {\n            containerServices.logout = () => { plateauIAM.logout(); };\n            containerServices.getPlateauIAM = () => { return plateauIAM; };\n        }\n        return containerServices;\n    }\n\n    public static fixQueryString(qjsonPath?: string) {\n        //ex:\n        //this is symphony -> \"q=/isleasing-sym/qjsonfunc?qjsonpath=homeTablet\"\n        //this is qui -> \"q=/static/qjsons/homeTablet\"\n        let search = window.location.search;\n        const fragment = window.location.hash;\n        let query: Record<string, Array<string> | undefined> = {};\n        if (search) {\n            search = search[0] === '?' ? search.substr(1) : search;\n            search = search.replace(/\\?/, \"&\");\n            query = UrlHelper.ParseQuery(search);\n            qjsonPath = query.q ? query.q.splice(0, 1).join(\"\") : qjsonPath;\n            if (query.q?.length == 0) { delete query.q; }\n        }\n        if (query.qjsonpath) {\n            qjsonPath += \"?qjsonpath=\" + query.qjsonpath.splice(0, 1);\n            if (query.qjsonpath.length == 0) { delete query.qjsonpath; }\n        }\n\n        const leftQueryString = Object.entries(query).map(([key, value]) => {\n            return value?.map(eachValue => `${encodeURIComponent(key)}=${encodeURIComponent(eachValue!)}`)\n        }).map(item => item?.join(\"&\")).join('&');\n\n        if (qjsonPath?.endsWith(\".js\")) {\n            return qjsonPath;\n        }\n        if (qjsonPath) {\n            let _qjsonPath = qjsonPath?.endsWith(\".qjson\") ? qjsonPath : qjsonPath += \".qjson\";\n            const retVal = leftQueryString ? _qjsonPath + \"?\" + leftQueryString : _qjsonPath;\n            return retVal + fragment;\n        }\n        \n        return qjsonPath;\n    }\n}\n","import { PlateauMessaging, PModules, FrameCommunicator } from \"@stechquick/algae/lib/protocols/PlateauMessaging\";\nimport { IWebSDK } from \"../../../../common/shrimp/interfaces/quick/IWebSDK\";\n\n\nexport class LivePreviewManager{\n    private frameCommunication?: FrameCommunicator<PModules>;\n    private livePreviewID: string | undefined;\n    private getQjsonUrlPrefix: string | undefined;\n    constructor() {\n        if(!window.opener){ return; }\n        \n        this.frameCommunication = PlateauMessaging.CreatePlateauMessaging(window.opener);\n    }\n\n    public async isItLivePreview():Promise<string | false> {\n        if(!this.frameCommunication){ return false; }\n\n        try{\n            const response = await this.frameCommunication.Send(\"LivePreview\", \"getLPID\", { type: \"getLPID\" }, { awaitResponse: true, awaitTime: 100 });\n            if(!response || response.msg.type!=\"getLPIDResponse\") {\n                return false;\n            }\n            this.livePreviewID=response.msg.ID;\n            return response.msg.ID;   \n        }\n        catch{\n            return false;\n        } \n    }\n\n    public async getLivePreviewSettings():Promise<any | undefined> {\n        if(!this.frameCommunication){ return; }\n\n        try{\n            const response = await this.frameCommunication.Send(\"LivePreview\", \"getLPPlateauUIOptions\", { type: \"getLPPlateauUIOptions\" }, { awaitResponse: true, awaitTime: 10000 });\n            if (!response || response.msg.type != \"getLPPlateauUIOptionsResponse\") {\n                return;\n            }\n            if(!response.msg.PlateauUIOptions.serviceWorker){\n                this.getQjsonUrlPrefix = response.msg.getQJsonUrlPrefix;\n            }\n            response.msg.PlateauUIOptions.settings.settings =  response.msg.PlateauUIOptions.settings.settings || { value: {}, type: \"object\" };\n            response.msg.PlateauUIOptions.settings.settings.value[\"useLocalProxyOnClient\"]  = true;\n            return response.msg.PlateauUIOptions;  \n        }\n        catch{\n            return;\n        }\n    }\n\n    public async sendSwMessage(packId){\n        if(!this.frameCommunication){ return; }\n\n        try{\n            const response = await this.frameCommunication.Send(\"LivePreview\", \"lpServiceWorkerRequestRequest\", { type: \"lpServiceWorkerRequestRequest\", resourceId: packId }, { awaitResponse: true, awaitTime:60000});\n            if (!response || response.msg.type != \"lpServiceWorkerRequestResponse\") {\n                return;\n            }\n            return response.msg; \n        }\n        catch{\n            return;\n        }\n    }\n\n    public setExternalQJsonRetriever(sdk: IWebSDK) {\n        if(!this.getQjsonUrlPrefix){\n            return;\n        }\n        sdk.setQJsonUrlPrefix(this.getQjsonUrlPrefix);\n    }\n\n}","export interface IPromiseData<T> {\n    promise: Promise<T>;\n    resolver: (value: T | PromiseLike<T>) => void;\n    reject: (reason?: any) => void;\n    startTimer: (timeout: number) => void;\n}\n\n//some platforms have syncronous resolve problem (ex: IOS JavascriptCore)\ndeclare var doNothing: (() => void) | undefined;\nlet syncResolved = false as boolean;\nnew Promise<void>(res => res()).then(() => syncResolved = true);\ntypeof(doNothing) != \"undefined\" && doNothing();\nconst syncResolveProblem = syncResolved === true; // platform has sync resolve problem or not\n\ntype ResolveFunc<T> = (value: T | PromiseLike<T>) => void;\n/**\n * @param timeout timeout time in ms, undefined if infinite\n */\nexport function CreatePromiseData<T>(timeout?: number, opt: { fixSyncResolve?: boolean } = {}): IPromiseData<T> {\n    const syncResolveFixer = (cb: ResolveFunc<T>) => syncResolveProblem && opt.fixSyncResolve ? (value: T | PromiseLike<T>) => setTimeout(() => cb(value)) : cb;\n    let resolver: ResolveFunc<T> = <any>undefined, reject: (reason?: any) => void = <any>undefined;\n    let timer: number;\n    const startTimer: IPromiseData<T>[\"startTimer\"] = (timeout: number) => {\n        if (timer) { clearTimeout(timer as unknown as NodeJS.Timeout); }\n        timer = setTimeout(() => { reject(new Error(`The operation has timed out. timeoutValue  : ${timeout}`)); }, timeout) as unknown as number;\n    }\n\n    if (timeout) {\n        startTimer(timeout);\n    }\n\n    return {\n        startTimer,\n        promise: new Promise<T>((res, rej) => { resolver = syncResolveFixer(res); reject = rej; }),\n        resolver,\n        reject\n    };\n}","export class CryptoHelper {\n    public static generateRandom(nums: Array<number>) {\n        const characters = '0123456789abcdefghijklmnopqrstuvwxyz';\n        const sum = nums.reduce((prev, cur) => prev + cur, 0);\n        const isomorphicCrypto: typeof crypto = typeof crypto != \"undefined\" ? eval(\"crypto\") : eval(\"require\")(\"crypto\");\n        const randomValues = isomorphicCrypto.getRandomValues(new Uint8Array(sum));\n        let index = 0;\n        return nums.reduce((prev, num) => {\n            prev.push(Array.from(new Array(num)).map(_ => characters[randomValues[index++] % characters.length]).join(\"\"));\n            return prev;\n        }, [] as Array<string>);\n    }\n    /**\n     * be945482-jf10-40d1-a50d-rzxa2c41fdcu\n     * (   8    - 4  - 4  - 4  - 3 ) + 9(time)(1970 - 5186)\n     */\n    public static CreateGuid() {\n        const timePart = Date.now().toString(36).substring(0, 9).padStart(9, \"0\");\n        const randomPart = CryptoHelper.generateRandom([8, 4, 4, 4, 3]).join(\"-\");\n        return randomPart + timePart;\n    }\n}","import { Hook } from \"./hook\";\n\ntype triggerCb = (...params: any) => (void | Promise<void>);\nexport class EventBus {\n    private static AllEvents = \"AllEvents\";\n\n    private subsDict: Record<string, Hook<triggerCb> | undefined>;\n    constructor() {\n        this.subsDict = {};\n    }\n\n    private obtainSubsList(eventName: string) {\n        return this.subsDict[eventName] || (this.subsDict[eventName] = new Hook(\"EventBus_\" + eventName));\n    }\n\n    public Subscribe(eventName: string, cb: triggerCb) {\n        if (eventName == EventBus.AllEvents) { throw new Error(`${eventName} is a registered key. If you want to subscribe all events, use SubsribeAll().`); }\n\n        this.obtainSubsList(eventName).subscribe(cb);\n    }\n    public Unsubscribe(eventName: string, cb: triggerCb) {\n        if (eventName == EventBus.AllEvents) { throw new Error(`${eventName} is a registered key. If you want to subscribe all events, use SubsribeAll().`); }\n\n        this.subsDict[eventName]?.unsubscribe(cb);\n    }\n    public SubscribeAll(cb: triggerCb) {\n        this.obtainSubsList(EventBus.AllEvents).subscribe(cb);\n    }\n\n    public UnsubscribeAll(cb: triggerCb) {\n        this.subsDict[EventBus.AllEvents]?.unsubscribe(cb);\n    }\n    public Trigger(eventName: string, ...params: any) {\n        const allEventsHook = this.subsDict[EventBus.AllEvents];\n        allEventsHook?.triggerer.apply(allEventsHook, params);\n\n        if (eventName == EventBus.AllEvents) { return; }\n\n        const hook = this.subsDict[eventName];\n        hook?.triggerer.apply(hook, params);\n    }\n    public TriggerJustAllSubs(...params: any){\n        const allEventsHook = this.subsDict[EventBus.AllEvents];\n        allEventsHook?.triggerer.apply(allEventsHook, params);\n    }\n\n    public destroy() {\n        this.subsDict = {};\n    }\n}","import { ISocket } from \"./socket/iSocket\";\nimport { ISocketPackage, StructuredMessageTypeDict, StructuredSocket } from \"./socket/structuredSocket\";\n\nclass WindowSocket implements ISocket {\n    public OnMessageWithDirectObject = true;\n    private messageHandler: (ev: MessageEvent) => void;\n\n    private targetWindow: Window;\n    constructor(targetWindow: Window) {\n        this.targetWindow = targetWindow;\n        window.addEventListener(\"message\", this.messageHandler = (ev) => {\n            if (ev.source != <any>targetWindow) {\n                return;\n            }\n            this.OnMessage?.(ev.data);\n        })\n    }\n    Send(packet: string | object): void {\n        this.targetWindow.postMessage(packet, \"*\");\n    }\n    OnMessage?: ((data: any) => void) | undefined;\n    public destroy() {\n        window.removeEventListener(\"message\", this.messageHandler);\n        this.OnMessage = undefined;\n    }\n}\n\n\ntype MM<MesTypes extends Record<string, StructuredMessageTypeDict>, T extends keyof MesTypes> = keyof MesTypes[T];\nexport type MessageTypes<MesTypes extends Record<string, StructuredMessageTypeDict>, T extends keyof MesTypes> = MesTypes[T][MM<MesTypes, T>];\nexport type FrameCommunicatorSendOptionsType = {\n    replyId?: string | undefined;\n} & ({\n    awaitResponse: true;\n    awaitTime: number;\n} | {\n    awaitResponse?: false | undefined;\n});\nexport class FrameCommunicator<MesTypes extends Record<string, StructuredMessageTypeDict>> {\n    private structuredSocket: StructuredSocket<MesTypes[keyof MesTypes]>;\n    private windowSocket: WindowSocket;\n    constructor(targetWindow: Window) {\n        this.windowSocket = new WindowSocket(targetWindow);\n        this.structuredSocket = new StructuredSocket(this.windowSocket);\n    }\n    public Send<TModule extends keyof MesTypes, ReqType extends keyof MesTypes[TModule]>(target: TModule, messageType: ReqType, message: MesTypes[TModule][ReqType], options: FrameCommunicatorSendOptionsType) {\n        const structuredSocket = (this.structuredSocket as unknown as StructuredSocket<MesTypes[TModule]>);\n        return structuredSocket.Send(message, options);\n    }\n\n    public Subscribe<TModule extends keyof MesTypes, ReqType extends keyof MesTypes[TModule]>(target: TModule, messageType: ReqType, cb: (message: ISocketPackage<MesTypes[TModule][ReqType]>) => void) {\n        const structuredSocket = (this.structuredSocket as unknown as StructuredSocket<MesTypes[TModule]>);\n        structuredSocket.Subscribe(messageType, cb);\n    }\n\n    public SubscribeAll<Types>(cb: (message: ISocketPackage<Types>) => void) {\n        this.structuredSocket.SubscribeAll(data => cb(data as unknown as ISocketPackage<Types>));\n    }\n\n    public UnsubscribeAll(cb: (message: ISocketPackage<MesTypes[string][string]>) => void) {\n        this.structuredSocket.UnsubscribeAll(data => cb(data as ISocketPackage<MesTypes[string][string]>));\n    }\n    public destroy() {\n        this.structuredSocket.destroy();\n    }\n}","import \"../polyfill/string\";\n\ntype HookCallBack = (...args: any) => (void | Promise<void>);\ninterface IHookLogger {\n    log: (options: { message: string, error?: Error }) => void;\n}\nexport class Hook<T extends HookCallBack>{\n    private static logger: IHookLogger;\n    public static configure(logger: IHookLogger) { Hook.logger = logger; }\n\n\n    private subscribers: Array<T> = [];\n    private postSubscribers?: Hook<T>;\n    private hookName: string;\n    private hookState: { triggered: boolean, triggerArgs: Array<any>, active: boolean }; //having a hookState states this hook manages state\n    private triggerPostSubscribersWithCb: boolean;\n\n    public get TriggerPostSubscribersWithCb(): boolean {\n        return this.triggerPostSubscribersWithCb;\n    }\n    public set TriggerPostSubscribersWithCb(v: boolean) {\n        this.triggerPostSubscribersWithCb = v;\n    }\n\n\n    constructor(hookName: string, options: { manageState?: boolean, triggerPostSubscribersWithCb?: boolean } = {}) {\n        this.hookName = hookName;\n        this.triggerPostSubscribersWithCb = options.triggerPostSubscribersWithCb || false;\n        options.manageState = options.manageState || false;\n        this.hookState = { triggered: false, triggerArgs: [], active: options.manageState };\n    }\n\n    public ResetAndStartState() {\n        this.hookState.triggerArgs = [];\n        this.hookState.active = true;\n        this.hookState.triggered = false;\n    }\n\n    public DisableState() {\n        this.hookState.triggerArgs = [];\n        this.hookState.active = false;\n        this.hookState.triggered = false;\n    }\n\n    public IsTriggered() {\n        if (!this.hookState.active) { throw new Error(\"IsTriggered can not be checked on a non manageState Hook: \" + this.hookName); }\n\n        return this.hookState.triggered;\n    }\n\n    private getHookName() {\n        let retVal = this.hookName;\n\n        if (!retVal.toLowerCase().endsWith(\"hook\")) {\n            retVal += \" hook\";\n        }\n        return retVal;\n    }\n\n    public get hasSubscribers() {\n        return this.subscriberCount > 0;\n    }\n\n    public get subscriberCount() {\n        return this.subscribers.length;\n    }\n\n    public get hasPostSubscribers(): boolean {\n        return (this.postSubscribers?.hasPostSubscribers || this.postSubscribers?.hasSubscribers) === true;\n    }\n\n    public get triggerer(): T {\n        return this.trigger as T;\n    }\n\n    private trigger(...args: Array<any>) {\n        if (this.hookState.active) {\n            this.hookState.triggered = true;\n            this.hookState.triggerArgs = args;\n        }\n        this.subscribers.forEach(sub => this.tryTriggerSubscriber(sub, args));\n        if (!this.triggerPostSubscribersWithCb) this.postSubscribers?.triggerer.apply(this.postSubscribers, args)\n    }\n\n    private async tryTriggerSubscriber(sub: T, args: Array<any>) {\n        try {\n            await sub.apply(null, args)\n        } catch (ex) {\n            const message = `${this.getHookName()} subscriber failed`;\n            if (Hook.logger) { Hook.logger.log({ error: ex as Error, message }); return; }\n            console.error(message, ex);\n        }\n    }\n\n    public triggerPostSubscribers(...args: Array<any>) {\n        this.postSubscribers?.triggerer.apply(this.postSubscribers, args);\n    }\n\n    public postSubscribe(cb: T) {\n        if (!this.postSubscribers) {\n            this.postSubscribers = new Hook<T>(this.hookName + \"_Post\", { manageState: this.hookState.active });\n            this.postSubscribers.hookState = this.hookState;\n        }\n        this.postSubscribers.subscribe(cb);\n    }\n    public postUnsubscribe(cb: T) {\n        this.postSubscribers?.unsubscribe(cb);\n    }\n    public clearPostSubscribers(forced: boolean = false) {\n        this.postSubscribers?.clearSubscribers();\n        if (forced || !this.hasPostSubscribers) {\n            this.postSubscribers = undefined;\n        }\n    }\n\n    public forceClearAllSubscibers() {\n        this.clearPostSubscribers(true);\n        this.clearSubscribers();\n    }\n\n    public subscribe(cb: T) {\n        this.subscribers.push(cb);\n        this.hookState.active && this.hookState.triggered && this.tryTriggerSubscriber(cb, this.hookState.triggerArgs);\n    }\n\n    public clearSubscribers() {\n        this.subscribers = [];\n    }\n\n    public unsubscribe(cb: T) {\n        this.subscribers = this.subscribers.filter(sub => sub != cb); // splice is fastest but this is safest, because of immutability, because of forEach traversals\n    }\n}","import { CreatePromiseData } from \"./createPromiseData\";\n\nexport async function importScript<T>(path: string, windowLibraryName: string, importField: string | \"*\" = \"default\", parameters?: any) {\n    (window as any).__tempPlateauUIParams__ = parameters;\n    const prom = CreatePromiseData<void>();\n    const script = document.createElement(\"script\");\n    script.src = path;\n    script.onload = () => prom.resolver();\n    script.onerror = (...args) => {delete (window as any).__tempPlateauUIParams__; prom.reject({ ...args });};\n    document.body.appendChild(script);\n    await prom.promise;\n    delete (window as any).__tempPlateauUIParams__;\n    const module = (window as any)[windowLibraryName];\n    try {\n        delete (window as any)[windowLibraryName];\n    } catch (error) { // throws \"Cannot delete property of #<Window>\", some declared properties are mounted on the window and are non-configurable.\n    }\n\n    return (importField == \"*\" ? module : module[importField]) as T;\n}\n\nexport async function importModule<T>(path: RequestInfo, require: (name: string) => any, importField: string = \"default\", parameters?: any) {\n    const compjs = await importModuleFile(path);\n    return importModuleBody<T>(compjs, require, importField, parameters);\n}\nexport async function importModuleFile(path: RequestInfo) {\n    const result = await fetch(path);\n    return await result.text();\n}\nexport function importModuleBody<T>(moduleJs: string, require: (name: string) => any, importField: string | \"*\" = \"default\", parameters?: any) {\n    const module = {} as any, exports = {};\n    new Function(\"module\", \"exports\", \"require\", \"params\", \"__tempPlateauUIParams__\", moduleJs)(module, exports, require, parameters, parameters);\n\n    return (importField == \"*\" ? module.exports : module.exports[importField]) as T;\n}","import { CreatePromiseData, IPromiseData } from \"../createPromiseData\";\nimport { CryptoHelper } from \"../cryptoHelper\";\nimport { EventBus } from \"../eventBus\";\nimport { DefaultTransferBuffer, ISocket } from \"./iSocket\";\n\n\n\n\n\ninterface ISocketMessage {\n    type: string;\n    [key: string]: any;\n}\nexport interface ISocketPackage<K> {\n    id: string;\n    replyId?: string;\n    msg: K;\n}\n\nexport interface IStructedSendOptions<TTransferBuffer = DefaultTransferBuffer> {\n    replyId?: string;\n    awaitResponse?: boolean;\n    awaitTime?: number;\n    transferBuffers?: Array<TTransferBuffer>;\n};\n\nexport type StructuredMessageTypeDict = Record<string, ISocketMessage>;\n\nexport class StructuredSocket<MessageType extends StructuredMessageTypeDict, TTransferBuffer = DefaultTransferBuffer> {\n    private socket: ISocket<TTransferBuffer>;\n    private awaitMsgList: Record<string, { promData: IPromiseData<ISocketPackage<MessageType[keyof MessageType]>> } | undefined>;\n    private eventBus: EventBus;\n    constructor(socket: ISocket<TTransferBuffer>) {\n        this.socket = socket;\n        this.awaitMsgList = {};\n        this.eventBus = new EventBus();\n        socket.OnMessage = this.listen.bind(this);\n    }\n\n    public CreatePackage<K extends keyof MessageType>(msg: MessageType[K], options: { replyId?: string, awaitResponse?: boolean, awaitTime?: number }) {\n        const packet: ISocketPackage<MessageType[K]> = { msg, id: CryptoHelper.CreateGuid(), replyId: options.replyId };\n        return packet;\n    }\n\n    public Send<K extends keyof MessageType>(msg: MessageType[K], options: IStructedSendOptions<TTransferBuffer>) {\n        const packet = this.CreatePackage(msg, options);\n        this.socket.Send(packet, { transferBuffers: options.transferBuffers });\n        if (!options.awaitResponse) { return undefined; }\n\n        const promData = CreatePromiseData<ISocketPackage<MessageType[keyof MessageType]>>(options.awaitTime);\n        this.awaitMsgList[packet.id] = { promData };\n        return promData.promise;\n    }\n\n    public Subscribe<K extends keyof MessageType>(key: K, cb: (data: ISocketPackage<MessageType[K]>) => (void | Promise<void>)) {\n        this.eventBus.Subscribe(key as string, cb);\n    }\n\n    public Unsubscribe<K extends keyof MessageType>(key: K, cb: (data: ISocketPackage<MessageType[K]>) => (void | Promise<void>)){\n        this.eventBus.Unsubscribe(key as string, cb);\n    }\n\n    public SubscribeAll(cb: (data: ISocketPackage<MessageType[keyof MessageType]>) => (void | Promise<void>)){\n        this.eventBus.SubscribeAll(cb);\n    }\n    public UnsubscribeAll(cb: (data: ISocketPackage<MessageType[keyof MessageType]>) => (void | Promise<void>)){\n        this.eventBus.UnsubscribeAll(cb);\n    }\n\n    private tryLogJsonParseEx(str: string) {\n        try {\n            return JSON.parse(str);\n        } catch (ex) {\n            const err = ex as { message?: string };\n            if (!err.message) { throw ex; }\n            const jsonPosInfo = \"in JSON at position\";\n            const index = err.message.indexOf(jsonPosInfo);\n            if (index <= -1) { throw ex; }\n            const posInfo = err.message.substring(index + jsonPosInfo.length);\n            const pos = Number(posInfo);\n            if (isNaN(pos)) { throw ex; }\n            const start = pos < 30 ? 0 : pos - 30;\n            const end = pos > str.length - 30 ? str.length : pos + 30;\n            const log = str.substring(start, end);\n            console.log(log + \"\\n\" + \" \".repeat(pos - start) + \"^\");\n            throw ex;\n        }\n    }\n\n    public ConvertBufferToStructure(data: string | Buffer | ArrayBuffer | Buffer[] | object) {\n        try {\n            const packet = (this.socket.OnMessageWithDirectObject ? data : this.tryLogJsonParseEx(data.toString())) as ISocketPackage<MessageType[keyof MessageType]> | undefined;\n            if (!packet) { console.log(\"unexpected message format: undefined\"); return undefined; }\n            if (!packet.msg || !packet.msg.type) { console.log(\"unexpected message format: missing {msg:{type: ... }} structure\"); return undefined; }\n            return packet;\n        } catch (ex) {\n            console.log(\"unexpected message format: json.parse error: \", ex);\n            return undefined;\n        }\n    }\n\n    private listen(data: string | Buffer | ArrayBuffer | Buffer[] | object) {\n        let packet = this.ConvertBufferToStructure(data);\n        if (!packet) { return undefined; }\n\n        if (packet.replyId) {\n            const awaiter = this.awaitMsgList[packet.replyId];\n            if (awaiter) {\n                delete this.awaitMsgList[packet.replyId];\n                awaiter.promData.resolver(packet);\n            }\n            this.eventBus.TriggerJustAllSubs(packet);\n            return;\n        }\n\n        this.eventBus.Trigger(packet.msg.type, packet);\n    }\n\n    public destroy(reason?: string) {\n        this.socket.destroy();\n        const awaitMsgList = this.awaitMsgList;\n        this.awaitMsgList = {};\n        this.eventBus.destroy();\n        const errorForWaiters = new Error(reason || `structuredSocket destroyed with no reason specified`);\n        Object.keys(awaitMsgList).forEach(key => awaitMsgList[key]?.promData.reject(errorForWaiters));\n    }\n}","if (!String.prototype.endsWith) {\n    String.prototype.endsWith = function (search, this_len) {\n        if (this_len === undefined || this_len > this.length) {\n            this_len = this.length;\n        }\n        return this.substring(this_len - search.length, this_len) === search;\n    };\n}","import { ISettings, ISettingsIAM } from \"../quick/IPlateauUI\";\nimport { FrameCommunicator, MessageTypes } from \"../helpers/frameCommunicator\";\nimport { ISocketPackage } from \"../helpers/socket/structuredSocket\";\nimport { IExternalQJsonRetriever } from \"../quick/IExternalQJsonRetriever\";\nimport { IModelState } from \"../quick/IModelState\";\nimport { IEditorVisibility } from \"../quick/IEditorVisibility\";\nimport { INamedCompModel, INamedCompModelOnly } from \"../quick/INamedCompModel\";\nimport { ApplicationObjectType, GeneratePageType, IApplication, IModelInfo, IModule, IPimQJsonOptions, ModelObjectType, ModelType, ModuleObjectType, ObjectID } from \"../qCloudTemp/quickCloud\";\nimport { IMsgType } from \"../logster/IMsgType\";\nimport { IBaseErrorMsg, IBaseMsg } from \"../logster/IMsg\";\nimport { loglevel } from \"../logster/ILogLevel\";\nimport { IConfig } from \"../quick/IConfig\";\nimport { ICodeAssistantResponse } from \"../qCloudTemp/AIService/codeAssistant\";\nimport { IContainerModel } from \"../quick/IContainerModel\";\n\nexport { MessageTypes, FrameCommunicator, ISocketPackage };\nexport type PModules = {\n    Quick: {\n        getModel: {\n            type: \"getModel\";\n            unformatQjson?: boolean;\n        };\n        getModelResponse: {\n            type: \"getModelResponse\";\n            content: string;\n            fileName: string;\n            state?: IModelState;\n            ownerType?: ModelType\n            ownerItem?: ObjectID\n            errorStatus?: boolean\n        };\n        setModel: {\n            type: \"setModel\";\n            content: string,\n            fileName: string,\n            settings?: {\n                \"settings.yaml\"?: string,\n                \"localProxy.yaml\"?: string,\n                \"pipeline.qjson\"?: string,\n                \"containerServices.js\"?: string,\n                \"componentList.js\"?: string,\n                \"alert.qjson\"?: string,\n                \"loading.qjson\"?: string,\n                \"main.css\"?: string,\n                \"globalLocalization.qjson\"?: string,\n                \"themeSettings.js\"?: string,\n                \"assetList.yaml\"?: string,\n                \"appSettings\"?: string,\n                fontPath?: Array<{ ID: string, fontName: string, italic?: boolean, fontWeights:  Array<string>, combinedFont: string }>\n            },\n            container?: IContainerModel,\n            state?: IModelState,\n            ownerType?: ModelType,\n            ownerItem?: ObjectID,\n            ID?: ObjectID,\n            qjsonVersion?: number,\n            usageType?: string\n        };\n        setModelResponse: {\n            type: \"setModelResponse\";\n        };\n        setEditorVisibility: {\n            type: \"setEditorVisibility\";\n            options?: IEditorVisibility,\n        },\n        changeCheckOutStatus: {\n            type: \"changeCheckOutStatus\",\n            checkedOut: boolean;\n        };\n        showNotification: {\n            type: \"showNotification\";\n            notificationOptions: {\n                type: \"warning\" | \"error\" | \"success\" | \"info\";\n                text: string;\n            }\n        };\n        generatePageEntityModel: {\n            type: \"generatePageEntityModel\";\n            params: { type: GeneratePageType, model: any, fileName: string, isProcess: boolean };\n        };\n        IAmReady: {\n            type: \"IAmReady\";\n        };\n        IAmReadyResponse: {\n            type: \"IAmReadyResponse\";\n            editorButtons: {\n                file?: boolean,\n                edit?: boolean,\n                addStyle?: boolean,\n                settings?: boolean,\n                help?: boolean,\n                wsUrl?: string,\n                createNamedComponent?: boolean,\n                pageWizard?: boolean,\n                imageWizard?: boolean\n            };\n            qjsonHandling: IExternalQJsonRetriever[\"qjsonHandling\"];\n            flow?: boolean;\n            sw?: boolean;\n            editorConfigs?: {\n                quick: {\n                    serviceWorkerScope: string;\n                }\n            };\n        };\n        letsGo: {\n            type: \"letsGo\",\n        };\n        letsGoResponse: {\n            type: \"letsGoResponse\",\n        };\n        openDocs: {\n            type: \"openDocs\";\n        };\n        openDocsResponse: {\n            type: \"openDocsResponse\";\n            fileName: string;\n        };\n        setOptions: {\n            type: \"setOptions\";\n            flow?: boolean;\n            workflow?: boolean;\n        }\n        getQuickComp: {\n            type: \"getQuickComp\";\n            qjsonPath: string;\n        };\n        getImage: {\n            type: \"getImage\";\n            imagePath: string;\n        };\n        getQuickCompResponse: {\n            type: \"getQuickCompResponse\";\n            qjson: string;\n        };\n        getImageResponse: {\n            type: \"getImageResponse\";\n            image: string;\n        };\n        getResource: {\n            type: \"getResource\";\n            resourceId: string;\n        };\n        getResourceResponse: {\n            type: \"getResourceResponse\";\n            resource: string;\n        };\n        setQuickComps: {\n            type: \"setQuickComps\";\n            params: Array<{\n                name: string,\n                id?: string,\n                qJsonOptions: IPimQJsonOptions,\n                qJsonPath?: string;\n            }>;\n            removeOlds?: boolean;\n        };\n        setNamedCompModel: {\n            type: \"setNamedCompModel\";\n            compPath?: any,\n            pim: any,\n            files: any,\n            compName: any,\n            state: any,\n        };\n        addOrUpdateNamedComp: {\n            type: \"addOrUpdateNamedComp\";\n            compName: string;\n            compModel: INamedCompModel;\n            compPath?: string;\n        };\n        addOrUpdateNamedCompResponse: {\n            type: \"addOrUpdateNamedCompResponse\";\n            success: boolean;\n            compPath?: string;\n            message?: string;\n        };\n        getNamedComp: {\n            type: \"getNamedComp\";\n            compPath: string;\n        };\n        getNamedCompResponse: {\n            type: \"getNamedCompResponse\";\n            compModel: INamedCompModel;\n        };\n        findUnselectItem: {\n            type: \"findUnselectItem\";\n            isItemUnselected: boolean;\n        };\n        setNamedCompList: {\n            type: \"setNamedCompList\";\n            compModelList: Array<INamedCompModelOnly>;\n        };\n        setProperties: {\n            type: \"setProperties\";\n            params: {\n                cssStyle?: string, hostFunctions?: string\n            };\n        };\n        openPageWizard: {\n            type: \"openPageWizard\";\n        };\n        openImageWizard: {\n            type: \"openImageWizard\";\n        };\n        openLottieWizard: {\n            type: \"openLottieWizard\";\n        };\n        openPageWizardResponse: {\n            type: \"openPageWizardResponse\";\n            qjsonPath: string;\n        };\n        openConstantWizard: {\n            type: \"openConstantWizard\";\n        };\n        openConstantWizardResponse: {\n            type: \"openConstantWizardResponse\";\n            constant: string;\n        };\n        openRunFunction: {\n            type: \"openRunFunction\";\n        };\n        openRunFunctionResponse: {\n            type: \"openRunFunctionResponse\";\n            flowId: string;\n            params: Record<string, any>;\n        };\n        openImageWizardResponse: {\n            type: \"openImageWizardResponse\";\n            imgList: { path: string, name: string };\n        };\n        openLottieWizardResponse: {\n            type: \"openLottieWizardResponse\";\n            lottieList: { path: string, name: string };\n        };\n        setImages: {\n            type: \"setImages\",\n            images: Array<{ ID: string, name: string }>\n        };\n        setLottie: {\n            type: \"setLottie\",\n            lottie: Array<{ ID: string, name: string }>\n        };\n        setFonts: {\n            type: \"setFonts\",\n            fonts: Array<{ ID: string, fontName: string, italic?: boolean, fontWeights:  Array<string>, combinedFont: string }>\n        };\n        setBlockComponentQjson: {\n            type: \"setBlockComponentQjson\",\n            qjsons: Array<{ ID: string, name: string }>\n        };\n        setQjson: {\n            type: \"setQjson\",\n            qjsons: Array<{ ID: string, name: string }>\n        };\n        updateModelName: {\n            type: \"updateModelName\",\n            oldName: string,\n            newName: string,\n            modelType: string\n        };\n        addComponentToScreen: {\n            type: \"addComponentToScreen\",\n            // modelID: ObjectID,\n            // componentType: \"basicComponent\" | \"quickComponent\",\n            // component: \"VProcessLayout\"\n        };\n        modifiedRequest: {\n            type: \"modifiedRequest\";\n            size: number;\n            qjson: string;\n        };\n        listUIModelsRequest: { // Delete on WorkFlow -> Main Merge\n            type: \"listUIModelsRequest\";\n        };\n        listUIModelsResponse: {// Delete on WorkFlow -> Main Merge\n            type: \"listUIModelsResponse\";\n            models: Array<{\n                qjsonPath: string;\n                name: string;\n            }>;\n        },\n        changeAsset: {\n            type: \"changeAsset\",\n            compName: string,\n            assetName: string,\n            assetList: string\n        },\n        editAsset: {\n            type: \"editAsset\",\n            assetName: string\n        };\n        addStyle: {\n            type: \"addStyle\";\n            id: string;\n            content?: string;\n        };\n        themeConfigChange: {\n             type: \"themeConfigChange\";\n             id: string;\n             content?: string;\n        }\n        deleteStyle: {\n            type: \"deleteStyle\";\n            id: string;\n        };\n        serviceWorkerRequestRequest: {\n            type: \"serviceWorkerRequestRequest\",\n            resourceId: string\n        };\n        serviceWorkerRequestResponse: {\n            type: \"serviceWorkerRequestResponse\",\n            resourceModel: string;\n            resourceId: string;\n            resourceType: string;\n        };\n        getAIResponsiveSuggestionsRequest: {\n            type: \"getAIResponsiveSuggestionsRequest\",\n            layoutModel: object, //TODO:AISuggestions change type \n            metrics: {\n                correlationid: string,\n                requestid: number,\n            }\n        }\n        getAIResponsiveSuggestionsResponse: {\n            type: \"getAIResponsiveSuggestionsResponse\",\n            suggestions: object, //TODO:AISuggestions change type \n            metrics?: {\n                correlationid?: string,\n                logid?: string\n            }\n        },\n        codeAssistantRequest: {\n            type: \"codeAssistantRequest\",\n            monacoEditorValue: string,\n            action: \"refactor\" | \"explain\",\n            metrics: {\n                correlationid: string,\n                requestSource: \"selection\" | \"fullEvent\"\n            }\n        }\n        getCodeAssistantResponse: {\n            type: \"getCodeAssistantResponse\",\n            response: ICodeAssistantResponse[\"refactorResponse\"] | ICodeAssistantResponse[\"explainResponse\"] | ICodeAssistantResponse[\"responseError\"];\n        },\n        createUIRequest: {\n            type: \"createUIRequest\",\n            imageData: any,\n            imageMetadata: {\n                fileName: string;\n                mimeType: string;\n                size: number;\n                lastModified: number;\n            }\n            metrics: {\n                correlationid: string,\n            }\n        }\n        createUIResponse: {\n            type: \"createUIResponse\",\n            response: string\n        },\n        publishHubsterEvent: {\n            type: \"publishHubsterEvent\",\n            item: IBaseMsg & IMsgType,\n            level: loglevel,\n            correlationid?: string\n        },\n        publishHubsterEventResponse: {\n            type: \"publishHubsterEventResponse\",\n            logid?: string\n        },\n        updateHubsterEvent: {\n            type: \"updateHubsterEvent\",\n            item: IBaseMsg & IMsgType,\n            level: loglevel,\n            correlationid?: string,\n            logid: string\n        },\n        setConfigValues: {\n            type: \"setConfigValues\";\n            configValues: IConfig[],\n        },\n        openApp: {\n            type: \"openApp\";\n            containerServIntelli?: string | \"\";\n            cssFiles?: [{\n                id: string,\n                content: string\n            }]\n        },\n        updateContServInt: {\n            type: \"updateContServInt\",\n            containerServIntelli?: string | \"\";\n        },\n        listModelsRequest: {\n            type: \"listModelsRequest\";\n            modelType: string;\n        },\n        listModelsResponse: {\n            type: \"listModelsResponse\";\n            models: Array<{\n                ID: string;\n                name: string;\n                modelType: ModelType;\n                path: string;\n            }>;\n        },\n        getModelBodyIORequest: {\n            type: \"getModelBodyIORequest\";\n            id: string;\n            bodyKey: string;\n        },\n        getModelBodyIOResponse: {\n            type: \"getModelBodyIOResponse\";\n            body: string;\n        },\n        studioModelEvent: {\n            type: \"studioModelEvent\";\n            types?: Array<{ ID: string, name: string, modelBody: string }>;\n            workflowDataInstances?: Array<{ ID: string, name: string }>;\n            masterPageCandidates?: Array<{ ID: string, name: string }>;\n            selectedPageID?: string;\n            flows?: Array<{ ID: string, name: string, path: string }>;\n            constants?: Array<{ ID: string, name: string, path: string }>;\n            container?: IContainerModel;\n\n        },\n        studioDataTypeModels: {\n            type: \"studioDataTypeModels\";\n            types?: Array<{ ID: string, name: string, modelBody: string }>;\n            workflowDataInstances?: Array<{ ID: string, name: string }>;\n            masterPageCandidates?: Array<{ ID: string, name: string }>;\n            flows?: Array<{ ID: string, name: string, path: string }>;\n            constants?: Array<{ ID: string, name: string, path: string }>;\n            container?: IContainerModel;\n        },\n        setContainerServIntelli: {\n            type: \"setContainerServIntelli\";\n            containerServIntelli?: string | \"\"\n        },\n        notificationRequest: {\n            type: \"notificationRequest\";\n            notifType: \"warning\" | \"error\" | \"success\" | \"info\";\n            text: string;\n            title?: string;\n            detail?: string;\n            timeout?: number;\n            /**\n             *  Whether or not the toast is paused when it is hovered by the mouse.\n             */\n            pauseOnHover?: boolean;\n            /**\n             *  Whether or not the toast is paused when the window loses focus.\n             */\n            pauseOnFocusLoss?: boolean;\n        },\n        pagePreviewEnabled: {\n            type: \"pagePreviewEnabled\"\n        },\n        findModelSearchResult: {\n            type: \"findModelSearchResult\";\n            result: {\n                compID: string,\n                isCustomEvent: boolean,\n                editorLang: \"QS\" | \"JS\" | \"TS\" | \"FL\" | \"GUI\",\n                name: string;\n                type: \"prop\" | \"event\";\n                code?: string;\n                column?: number;\n                lineNumber?: number;\n                searchValue?: string;\n                externalVisible?: boolean; \n                eventState?: \"NotSet\" | \"NewCustom\" | \"CustomNameChanged\";\n                compName?: string;\n                directiveName?: string;\n            },\n        },\n    },\n    ProcessManager: {\n        GetProcessListRequest: {\n            type: \"GetProcessListRequest\"\n        },\n        GetProcessListResponse: {\n            type: \"GetProcessListResponse\",\n            processList: Array<{\n                name: string,            // \"Kredi bavurusu yaratma onay\"\n                id: string,              // 1\n                description: string,     // \"Yetkili kullanclar tarafndan kontroller yaplarak kredi bavurusu yaratma onay/red sreci iletilir.\"\n                bpmnFile: string,        // \"createCreditApplicationConfirm.bpmn\"\n                created_at: string,      // \"2021-01-21 09:21:10\"\n                updated_at: string,      // \"2021-01-21 09:21:10\"\n                processTemplate: string, // \"singleApproval\"\n                pages: Array<{\n                    pageType: string,    // \"startPage\"  or  \"confirmPage1\"  or  \"confirmPage2\"  or  \"confirmPage3\" ...\n                    pageName: string,    // \"createCreditApplicationConfirmPage.qjson\"\n                    roles: Array<string> // [\"Musteri_Tanimlama\", \"BACK_OFFICE\"]\n                }>\n            }>\n        },\n        ListModules: {\n            type: \"ListModules\";\n            ownerProjects?: Array<ObjectID>;\n        },\n        ListModulesResponse: {\n            type: \"ListModulesResponse\";\n            modules: Array<IModule>;\n        },\n        ListModelsResponse: {\n            type: \"ListModelsResponse\",\n            models: IModelInfo[],\n        },\n        ListModels: {\n            type: \"ListModels\",\n            ownerItem: ObjectID,\n            modelType?: ModelType,\n        },\n        AddComponentToScreen: {\n            type: \"AddComponentToScreen\",\n            modelID: ObjectID,\n            componentType: \"basicComponent\" | \"quickComponent\",\n            component: \"VProcessLayout\"\n        },\n        AddComponentToScreenResponse: {\n            type: \"AddComponentToScreenResponse\",\n            success: boolean,\n            message: string\n        },\n        GetObjectInfo: {\n            type: \"GetObjectInfo\",\n            objectId: ObjectID,\n            objectType: ApplicationObjectType | ModuleObjectType | ModelObjectType\n        },\n        GetObjectInfoResponse: {\n            type: \"GetObjectInfoResponse\",\n            object: IApplication | IModule | IModelInfo\n        },\n        GetContent: {\n            type: \"GetContent\",\n            content: string,\n            fileName: string,\n            state?: IModelState,\n            ownerType?: ModelType,\n            ownerItem?: ObjectID,\n            ID?: ObjectID,\n        },\n        GetContentResponse: {\n            type: \"GetContentResponse\",\n            content: string,\n            fileName: string,\n            state?: IModelState,\n            ownerType?: ModelType,\n            ownerItem?: ObjectID,\n        },\n        SetContent: {\n            type: \"SetContent\",\n            content: string,\n            fileName: string,\n            state?: IModelState,\n            ownerType?: ModelType,\n            ownerItem?: ObjectID,\n            ID?: ObjectID,\n        },\n        SetContentResponse: {\n            type: \"SetContentResponse\",\n            content: string,\n            fileName: string,\n            state?: IModelState,\n            ownerType?: ModelType,\n            ownerItem?: ObjectID,\n        },\n        ContentChanged: {\n            type: \"ContentChanged\",\n            content: string,\n            fileName: string,\n            state?: IModelState,\n            ownerType?: ModelType,\n            ownerItem?: ObjectID,\n            ID?: ObjectID,\n            initiator?: string,\n        },\n        SetBpmnContent: {\n            type: \"SetBpmnContent\",\n            content: string,\n            fileName: string,\n            state?: IModelState,\n            ownerType?: ModelType,\n            ownerItem?: ObjectID,\n            ID?: ObjectID,\n            initiator?: string,\n        },\n        GetBpmnProcessVars: {\n            type: \"GetBpmnProcessVars\",\n            moduleName: string,\n            fileName: string,\n            ownerType?: ModelType,\n            ownerItem?: ObjectID,\n            ID?: ObjectID,\n            initiator?: string,\n        },\n        GetBpmnProcessVarsResponse: {\n            type: \"GetBpmnProcessVarsResponse\",\n            moduleName: string,\n            fileName: string,\n            ownerType?: ModelType,\n            ownerItem?: ObjectID,\n            ID?: ObjectID,\n            initiator?: string,\n            variables: Array<{\n                variableType: string,    // \"camunda:In\"  or  \"camunda:Out\"  or  \"camunda:InOut\"  ...\n                name: string    // \"createCreditApplicationConfirmPage.qjson\"\n            }>\n        },\n    },\n    EntityDesigner: {\n        getModel: {\n            type: \"getModel\";\n        };\n        getModelResponse: {\n            type: \"getModelResponse\";\n            state?: IModelState;\n            content: string;\n        };\n        setModel: {\n            type: \"setModel\";\n            content: string,\n            state?: IModelState,\n        };\n        setModelResponse: {\n            type: \"setModelResponse\";\n        };\n        changeCheckOutStatus: {\n            type: \"changeCheckOutStatus\",\n            checkedOut: boolean;\n        };\n        showNotification: {\n            type: \"showNotification\";\n            notificationOptions: {\n                type: \"warning\" | \"error\" | \"success\" | \"info\";\n                text: string;\n            }\n        };\n        IAmReady: {\n            type: \"IAmReady\";\n        };\n        IAmReadyResponse: {\n            type: \"IAmReadyResponse\";\n        };\n        modifiedRequest: {\n            type: \"modifiedRequest\";\n        };\n        modifiedAuthToken: {\n            type: \"modifiedAuthToken\";\n            token: string;\n        }\n    },\n    LivePreview: {\n        getLPID: {\n            type: \"getLPID\";\n        };\n        getLPIDResponse: {\n            type: \"getLPIDResponse\";\n            ID: string;\n        };\n        getLPPlateauUIOptions: {\n            type: \"getLPPlateauUIOptions\";\n        };\n        getLPPlateauUIOptionsResponse: {\n            type: \"getLPPlateauUIOptionsResponse\";\n            getQJsonUrlPrefix: string;\n            PlateauUIOptions: {\n                corsEnabled: boolean;\n                settings: ISettings;\n                iam: ISettingsIAM;\n                serviceWorker?: boolean;\n            };\n        };\n        lpServiceWorkerRequestRequest: {\n            type: \"lpServiceWorkerRequestRequest\",\n            resourceId: string\n        };\n        lpServiceWorkerRequestResponse: {\n            type: \"lpServiceWorkerRequestResponse\",\n            resourceModel: string;\n            resourceId: string;\n            resourceType: string;\n        };\n    },\n    LiveDashboard: {\n        postMessageToLiveDashboard: {\n            type: \"postMessageToLiveDashboard\";\n            businessKey: string;\n            processInstanceId: string;\n        };\n        getAdditionalHeadersRequest: {\n            type: \"getAdditionalHeadersRequest\";\n        },\n        getAdditionalHeadersResponse: {\n            type: \"getAdditionalHeadersResponse\";\n            headers: Record<string, any>;\n        };\n        triggerPipeline: {\n            type: \"triggerPipeline\";\n            eventName: string;\n            parameters: Record<string, any>;\n        };\n        destroyRequest: {\n            type: \"destroyRequest\";\n        };\n        destroyResponse: {\n            type: \"destroyResponse\";\n        };\n    }\n}\n\nexport class PlateauMessaging {\n    public static CreatePlateauMessaging(targetWindow: Window) {\n        const mes = new FrameCommunicator<PModules>(targetWindow);\n        return mes;\n    }\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","__webpack_require__.amdO = {};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","var getProto = Object.getPrototypeOf ? (obj) => (Object.getPrototypeOf(obj)) : (obj) => (obj.__proto__);\nvar leafPrototypes;\n// create a fake namespace object\n// mode & 1: value is a module id, require it\n// mode & 2: merge all properties of value into the ns\n// mode & 4: return value when already ns object\n// mode & 16: return value when it's Promise-like\n// mode & 8|1: behave like require\n__webpack_require__.t = function(value, mode) {\n\tif(mode & 1) value = this(value);\n\tif(mode & 8) return value;\n\tif(typeof value === 'object' && value) {\n\t\tif((mode & 4) && value.__esModule) return value;\n\t\tif((mode & 16) && typeof value.then === 'function') return value;\n\t}\n\tvar ns = Object.create(null);\n\t__webpack_require__.r(ns);\n\tvar def = {};\n\tleafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];\n\tfor(var current = mode & 2 && value; typeof current == 'object' && !~leafPrototypes.indexOf(current); current = getProto(current)) {\n\t\tObject.getOwnPropertyNames(current).forEach((key) => (def[key] = () => (value[key])));\n\t}\n\tdef['default'] = () => (value);\n\t__webpack_require__.d(ns, def);\n\treturn ns;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"\" + chunkId + \".js?ver=3.1.2-4\";\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","var inProgress = {};\nvar dataWebpackPrefix = \"@stechquick/websdk:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = (url, done, key, chunkId) => {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = (prev, event) => {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach((fn) => (fn(event)));\n\t\tif(prev) return prev(event);\n\t};\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","var scriptUrl;\nif (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + \"\";\nvar document = __webpack_require__.g.document;\nif (!scriptUrl && document) {\n\tif (document.currentScript)\n\t\tscriptUrl = document.currentScript.src\n\tif (!scriptUrl) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tif(scripts.length) scriptUrl = scripts[scripts.length - 1].src\n\t}\n}\n// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration\n// or pass an empty string (\"\") and set the __webpack_public_path__ variable from your code to use your own logic.\nif (!scriptUrl) throw new Error(\"Automatic publicPath is not supported in this browser\");\nscriptUrl = scriptUrl.replace(/#.*$/, \"\").replace(/\\?.*$/, \"\").replace(/\\/[^\\/]+$/, \"/\");\n__webpack_require__.p = scriptUrl;","__webpack_require__.b = document.baseURI || self.location.href;\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t\"websdk\": 0\n};\n\n__webpack_require__.f.j = (chunkId, promises) => {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise((resolve, reject) => (installedChunkData = installedChunks[chunkId] = [resolve, reject]));\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = (event) => {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t} else installedChunks[chunkId] = 0;\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n// no on chunks loaded\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\n}\n\nvar chunkLoadingGlobal = this[\"webpackChunk_stechquick_websdk\"] = this[\"webpackChunk_stechquick_websdk\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","import { importModule, importModuleBody, importScript } from \"@stechquick/algae/lib/helpers/importHelper\";\nimport { IPlateauUIObject, IPlateauUIOptions, IRequestData, ISettings, ISettingsIAM, contentType, IAppSettings, ISettingsExtended } from \"@stechquick/algae/lib/quick/IPlateauUI\";\nimport { QJsonPool, QjsonData } from \"../../common/qshell/src/helpers/QJsonHelpers/QJsonPool\";\nimport { LazyLoader } from \"../../common/shrimp/helpers/lazyLoader\";\nimport { QJsonExtractHelper } from \"../../common/shrimp/helpers/qjsonParser/QJsonExtractHelper\";\nimport { IQJSon } from \"../../common/shrimp/interfaces/ComponentInterfaces/IQJson\";\nimport { IAssetList } from \"../../common/shrimp/interfaces/ComponentInterfaces/IStyle\";\nimport { IDomElement } from \"../../common/shrimp/interfaces/RenderingInterfaces/IDomElement\";\nimport { IDory } from \"../../common/shrimp/interfaces/RenderingInterfaces/IDory\";\nimport { IDoryRenderer, IRenderer } from \"../../common/shrimp/interfaces/RenderingInterfaces/IRenderer\";\nimport { IRendererConfig } from \"../../common/shrimp/interfaces/RenderingInterfaces/IRendererConfig\";\nimport { IContainerServices } from \"../../common/shrimp/interfaces/quick/IContainerServices\";\nimport { IPlateauIAM } from \"../../common/shrimp/interfaces/quick/IPlateauIAM\";\nimport { IWebSDK, IWebSDKSettings } from \"../../common/shrimp/interfaces/quick/IWebSDK\";\nimport { Legacy } from \"./build/legacy\";\nimport { LivePreviewManager } from \"./src/managers/LivePreviewManager\";\nimport { Logger, LogType } from \"../../common/shrimp/helpers/logger\";\nimport { BaseStoreContext } from \"../../common/shrimp/interfaces/quick/IStore\"\n\n\nclass PlateauUI implements IPlateauUI{\n    private container: WebsdkContainer;\n    private renderer: IDoryRenderer;\n    public mountPoint: HTMLElement;\n    private sdkInstance: IWebSDK;\n\n    constructor(container: WebsdkContainer, renderer: IDoryRenderer, mountPoint: IDomElement, sdkInstance: IWebSDK) {\n        this.container = container;\n        this.renderer = renderer;\n        this.mountPoint = mountPoint;\n        this.sdkInstance = sdkInstance;\n    }\n    public async open(qjsonPath?: string, args?: Record<string, any>) {\n        this.sdkInstance.showCssTags(true, args?.pageName || \"\");\n        await this.container.open({ renderer: this.renderer, qjsonPath, args });\n    }\n    public show(args?: plateauUIPageOptions) {\n        const pageName = args?.pageName || \"default\";\n        this.renderer.resurrect();\n        this.sdkInstance.showCssTags(true, pageName);\n        this.mountPoint.style.display = \"block\";\n    }\n    public hide(args?: plateauUIPageOptions) {\n        const pageName = args?.pageName || \"default\";\n        this.mountPoint.style.display = \"none\";\n        this.sdkInstance.showCssTags(false, pageName);\n        this.renderer.Hibernate(true);\n    }\n    public async close(args?: plateauUIPageOptions) {\n        await this.destroy(args);\n    }\n    public async destroy(args?: Record<string, any>) {\n        await this.renderer.settingModels.TriggerPipeline(\"applicationEnd\", {});\n        const pageName = args?.pageName || \"default\";\n        this.sdkInstance.showCssTags(false, pageName);\n        this.sdkInstance.destroyRenderer(this.renderer);\n        this.mountPoint.remove();\n    }\n    public trigger({ eventName, parameters }: { eventName: string, parameters: Record<string, any> }) {\n        return this.renderer.Trigger(eventName, parameters);\n    }\n    public triggerPipeline({ eventName, parameters }: { eventName: string, parameters: Record<string, any> }) {\n        return this.renderer.settingModels.TriggerPipeline(eventName, parameters);\n    }\n    public getGlobalStore(storeFieldName: string) {\n        const storeContext = this.renderer.DoryInst.GetContext().GetItemSingle<BaseStoreContext>(\"GlobalStoreContext\");\n        if (!storeContext) { throw \"Store context is not found\"; }\n        const storeField = storeContext.get(storeFieldName);\n        console.log(\"storeField => \", storeField);\n        return storeField;\n    }\n}\n\n\nexport interface IPlateauUI {\n    open(qjsonPath?: string, args?: Record<string, any>): Promise<void>;\n    show(args?: plateauUIPageOptions): void;\n    hide(args?: plateauUIPageOptions): void;\n    close(args?: plateauUIPageOptions): Promise<void>;\n    destroy(args?: plateauUIPageOptions): Promise<void>;\n}\n\nexport type plateauUIPageOptions = { pageName: string }\n\nexport interface IContainerServiceParams {\n    plateauUIRenderer?: PlateauUI\n}\nclass WebsdkContainer {\n    private enviromentInfo: string = \"sdk\";\n    private settingsWeb?: ISettings; // combined and unprocessed form of settings for web. \n    private assetList?: IAssetList;\n    private appSettings?: IAppSettings;\n\n    private SDKInstance?: IWebSDK;\n    private SDKSettings?: IWebSDKSettings; // settingsWeb[\"settings\"]\n    private SDKConfiguration?: IRendererConfig;\n\n\n    public mountPoint?: IDomElement;\n    public PlateauIAM: IPlateauIAM | undefined = undefined;\n    private PlateauUIOptions: IPlateauUIOptions = {\n        corsEnabled: true,\n        iam: \"./settings/settings_iam.js\",\n        settings: \"./settings/settings_web.js\",\n        asset: \"./static/css/assetList.js\"\n    }\n    lpManager?: LivePreviewManager;\n    private initCompleted: boolean = false;\n    private containerServicesParameter: IContainerServiceParams = {};\n    constructor() {\n        Object.defineProperty(this.containerServicesParameter, \"plateauUIRenderer\", { get() { throw new Error(\"Create renderer first!\"); }, configurable: true });\n    }\n\n    public async init({ PlateauUIOptions, environmentInfo = \"sdk\" }: { PlateauUIOptions?: IPlateauUIOptions, environmentInfo?: string }) {\n        const self = this;\n        self.enviromentInfo = environmentInfo;\n        var LPPlateauUIOptions = await self.configureLivePreview(PlateauUIOptions);\n\n        self.PlateauUIOptions = LPPlateauUIOptions ? LPPlateauUIOptions : (PlateauUIOptions ?? this.PlateauUIOptions);\n        if (!self.settingsWeb) {\n            let settingsWeb: ISettings;\n            if (self.lpManager) {\n                settingsWeb = self.PlateauUIOptions.settings as ISettings;\n                self.appSettings = (<ISettingsExtended>self.PlateauUIOptions.settings).appSettings ? JSON.parse((<ISettingsExtended>self.PlateauUIOptions.settings).appSettings.value) : undefined;\n            } else {\n                const settingsOption = self.PlateauUIOptions.settings;\n                settingsWeb = settingsOption instanceof Promise ? await settingsOption : await self.LoadJS<any>(settingsOption as string, \"plateauUISettings\", { importField: \"*\" });\n                if (!settingsWeb) {\n                    throw \"please set following: PlateauUIOptions['settings']\"\n                }\n            }\n\n            if (settingsWeb.localProxy && settingsWeb.localProxy.type == \"object\") {\n                settingsWeb.settings.value.settingsProxyYaml = settingsWeb.settings.value.settingsProxyYaml || {};\n                settingsWeb.settings.value.settingsProxyYaml[\"localProxy\"] = settingsWeb.localProxy.value;\n            }\n            self.SDKSettings = Legacy.migrateLegacySettings(settingsWeb.settings.value);\n            self.lpManager && (self.SDKSettings.appSettings = self.appSettings);\n            self.settingsWeb = settingsWeb;\n        }\n\n        await self.handleIAMSettings();\n\n        self.assetList = LPPlateauUIOptions?.settings?.asset?.value;\n        const assetListOptions = self.PlateauUIOptions.asset;\n        if (assetListOptions) {\n            if (assetListOptions instanceof Promise) {\n                try {\n                    self.assetList = await assetListOptions;\n                } catch (error) {\n                    // console.log(error);\n                }\n            }\n            else {\n                self.assetList = await self.LoadJS<IAssetList>(assetListOptions as string, \"plateauUIAsset\", { importField: \"*\", required: false });\n            }\n        }\n\n        if (!this.SDKInstance) {\n            let containerServices: IContainerServices | undefined;\n            if (self.settingsWeb?.containerServices) {\n                containerServices = await self.LoadObject<IContainerServices>(self.settingsWeb.containerServices, \"plateauUIContainerServices\", { importField: \"*\", required: false, parameters: this.containerServicesParameter });\n            }\n            containerServices = Legacy.containerServicesModifications(containerServices, this.PlateauIAM);\n\n            if (window.location.search) document.cookie = \"queryParams=\" + window.location.search + \";path=/;\"\n\n            this.SDKInstance = new (await import(\"./src/WebSDK\")).WebSDK(self.SDKSettings!, containerServices, { environmentName: environmentInfo });\n        }\n\n        if (self.lpManager) {\n            self.lpManager.setExternalQJsonRetriever(self.SDKInstance!);\n        }\n\n        if (!self.SDKConfiguration) {\n            const rendererConfig = await self.setSDKConfig();\n            self.SDKConfiguration = rendererConfig;\n        }\n\n        this.initCompleted = true;\n    }\n\n    public async createRenderer({ mountPoint }: { mountPoint: HTMLElement }) {\n        const self = this;\n        const { newMountPoint, renderer } = self.SDKInstance!.CreateRenderer({ mountPoint, config: self.SDKConfiguration });\n        const dory: IDory = (renderer as IDoryRenderer).DoryInst;\n        dory.SetAssetValues(self.assetList);\n        await self.setSettingModels({ renderer });\n        var plateauUI = new PlateauUI(self, renderer as IDoryRenderer, newMountPoint, this.SDKInstance!);\n        delete this.containerServicesParameter.plateauUIRenderer;\n        this.containerServicesParameter.plateauUIRenderer = plateauUI;\n        return plateauUI;\n    }\n    public destroy() {\n        this.SDKInstance?.destroy();\n    }\n\n    private async initLoadingComponent(renderer: IDoryRenderer) {\n        const self = this;\n        if (!self.settingsWeb?.loading && !self.settingsWeb?.settings.value.loadingqjson) {\n            return;\n        }\n\n        if (self.settingsWeb.loading?.format == \"lottie\" || self.settingsWeb.loading?.type == \"object\") {\n            throw \"Loading Lottie Format or Object Type on Web NOTIMPLEMENTED\";\n        }\n\n        let qjsonData: QjsonData;\n        const qjsonPool = renderer.getContextItem<QJsonPool>(QJsonPool.contextName)!;\n        const dory = renderer.DoryInst;\n        const loadingqjsonPath = self.settingsWeb?.settings.value.loadingqjson;\n        if (loadingqjsonPath) {\n            qjsonData = { type: \"path\", path: loadingqjsonPath.startsWith(\"/\") ? loadingqjsonPath.substring(1) : loadingqjsonPath, options: { disableLoading: true } };\n        }\n\n        if (self.settingsWeb?.loading) {\n            qjsonData = self.settingsWeb.loading.type == \"js\" ? { type: \"content\", content: renderer.settingModels.GetLoadingQjson()! } :\n                { type: \"path\", path: self.settingsWeb.loading.value!, options: { disableLoading: true } };\n        }\n\n        const collectResult = await qjsonPool.retrieveAndFillQjsonAsync({ qjson: qjsonData!, dory });\n        if (collectResult.changedPath) { throw new Error(\"unexpected path change: possible masterPage\"); }\n    }\n\n    public async open({ renderer, qjsonPath, args }: { renderer: IDoryRenderer, qjsonPath?: string, args?: Record<string, any> }) {\n        const self = this;\n        await self.initLoadingComponent(renderer);\n        //qui -> q=? (queryString) , qjsonPath=? (queryString) , rootQjson (settings.yaml), \n        //sdk -> qjsonPath (parameter), rootQjson (settings.yaml) ,\n\n        let renderOptions;\n        let queryString = Legacy.fixQueryString();\n        if (this.enviromentInfo == \"sdk\" && qjsonPath) {\n            qjsonPath = Legacy.fixLegacyPathFormat(qjsonPath);\n            renderOptions = { pjsonPath: qjsonPath, storeItems: args };\n        }\n        else if (this.enviromentInfo == \"qui\" && queryString) {\n            renderOptions = { pjsonPath: queryString, storeItems: args };\n        }\n        else if (!renderOptions && self.settingsWeb?.rootqjson) {\n            var qjsonContent = await self.LoadObject<any>(self.settingsWeb?.rootqjson, \"\");\n            const pageName = self.settingsWeb.settings.value.rootqjson;\n            renderOptions = { pjsonContent: qjsonContent, pageName, storeItems: args };\n        }\n        else if (self.settingsWeb?.settings.value.rootqjsonpath && !self.settingsWeb.rootqjson) {\n            let rootQjsonContent = await (<any>this.SDKInstance)?.qJsonRetriever.retrieveQJsonAsync(self.settingsWeb?.settings.value.rootqjsonpath, { disableLoading: true });\n            let rootQjsonObj: IPlateauUIObject = { format: \"qjson\", type: \"js\", value: rootQjsonContent };\n            var pjsonContent = await self.LoadObject<any>(rootQjsonObj, \"\");\n            const pjsonPath = self.settingsWeb.settings.value.rootqjsonpath;\n            renderOptions = { pjsonContent: pjsonContent, pjsonPath };\n        }\n        else {\n            throw Error(\"please set following: PlateauUIOptions.rootqjson\")\n        }\n\n        //WindowHistoryManager pushState'e bak \n        if (renderOptions.pjsonPath?.includes(\"<<qjsonpass:\")) {\n            renderOptions.pjsonPath = renderOptions.pjsonPath.replace(\"<<qjsonpass:\", \"<<qjson:\").replace(\".qjson\", \"\");\n\n        }\n\n        const prom = renderer.Render(renderOptions);\n        const ux = this.SDKInstance?.getUXManager();\n        ux?.setTheme(\"default\", this.settingsWeb?.style);\n        await prom;\n    }\n\n    private async handleIAMSettings() {\n        const self = this;\n        if (self.PlateauUIOptions.iam) {\n            const iamOption = self.PlateauUIOptions.iam;\n            if (self.lpManager) {\n                iamOption[\"iamV2\"] = self.appSettings?.oAuthSettings;\n            }\n            var settingsIAM: ISettingsIAM | undefined = self.lpManager ? iamOption as ISettingsIAM : (iamOption instanceof Promise ? await iamOption : await self.LoadJS<ISettingsIAM>(iamOption, \"plateauUIIAMOptions\", { importField: \"*\", required: false }));\n\n            if (settingsIAM && settingsIAM.iam?.active || settingsIAM?.iamV2?.active) {\n                self.PlateauIAM = new (await import(\"./src/managers/PlateauIAM\")).PlateauIAM();\n                self.PlateauIAM.setOptions({ iam: settingsIAM.iam, iamV2: settingsIAM.iamV2 });\n                self.PlateauIAM.settingsIAM = settingsIAM;\n                let securePage = true;\n                let rootQjson = self.settingsWeb?.settings.value.rootqjson ?? self.settingsWeb?.settings.value.rootqjsonpath;\n                let unsecurePages = self.PlateauIAM.settingsIAM.iamV2?.unsecurePages ?? self.PlateauIAM.settingsIAM?.iam?.unsecurePages;\n                if (unsecurePages) {\n                    for (let i = 0; i < unsecurePages.length; i++) {\n                        let queryString = Legacy.fixQueryString();\n                        if (unsecurePages[i] === (queryString ?? rootQjson)) {\n                            securePage = false;\n                        }\n                    }\n                }\n                if (securePage) {\n                    await self.PlateauIAM.login(self.PlateauUIOptions);\n                    if (!self.PlateauIAM.isAuthenticated()) {\n                        throw Error(\"Authentication: Must logon\");\n                    }\n                }\n            }\n        }\n    }\n\n    private async setSDKConfig() {\n        var self = this;\n        var plateauUIComponentOptions: any;\n        if (self.settingsWeb?.componentList) {\n            plateauUIComponentOptions = self.LoadObject<any>(self.settingsWeb.componentList, \"plateauUIComponentOptions\", { importField: \"*\", required: false });\n        }\n        var plateauUIGlobalLRQjson: any;\n        if (self.settingsWeb?.globalLocalization) {\n            plateauUIGlobalLRQjson = self.LoadObject<any>(self.settingsWeb?.globalLocalization, \"\", { importField: \"*\", required: false }); //windowLibraryName\n            self.LoadQjson(self.settingsWeb?.globalLocalization);\n        }\n\n        var rendererConfig: IRendererConfig = {};\n        return Promise.all([plateauUIComponentOptions, plateauUIGlobalLRQjson]).then(([plateauUIComponentOptions, plateauUIGlobalLRQjson]) => {\n            if (plateauUIComponentOptions) {\n                rendererConfig.SiteSettings = { compSettings: plateauUIComponentOptions }\n            }\n            if (plateauUIGlobalLRQjson) {\n                rendererConfig.GlobalLRDict = plateauUIGlobalLRQjson.clrids;\n            }\n            if (self.SDKSettings?.rootLangCode) {\n                rendererConfig.LRType = self.SDKSettings?.rootLangCode;\n            }\n            if (self.SDKSettings?.configValues) {\n                rendererConfig.configValues = self.SDKSettings?.configValues;\n            }\n            return rendererConfig;\n        });\n    }\n\n    private async setSettingModels({ renderer }: { renderer: IRenderer }) {\n        var self = this;\n        const pipelineqjsonPath = self.settingsWeb?.settings.value.pipelineqjson;\n        const alertqjsonPath = self.settingsWeb?.settings.value.alertqjson;\n        const loadingqjsonPath = self.settingsWeb?.settings.value.loadingqjson;\n\n        let pipelineqjson = self.settingsWeb?.pipeline ||\n            { type: \"path\", value: pipelineqjsonPath?.startsWith(\"/\") ? pipelineqjsonPath.substring(1) : pipelineqjsonPath, format: \"qjson\" };\n        if (pipelineqjson && pipelineqjson.value) {\n            const qjson = await self.LoadObject<any>(pipelineqjson, \"\", { importField: \"*\", required: false }); //windowLibraryName\n            if (qjson) {\n                try {\n                    await renderer.settingModels.SetPipelineQjson(qjson);\n                } catch (err) {\n                }\n            }\n        }\n        let alertqjson = self.settingsWeb?.alert ||\n            { type: \"path\", value: alertqjsonPath?.startsWith(\"/\") ? alertqjsonPath.substring(1) : alertqjsonPath, format: \"qjson\" };\n        if (alertqjson && alertqjson.value) {\n            const qjson = await self.LoadObject<any>(alertqjson, \"\", { importField: \"*\", required: false }); //windowLibraryName ?\n            if (qjson) {\n                try {\n                    await renderer.settingModels.SetAlertQjson(qjson);\n                } catch (err) {\n                }\n            }\n        }\n        let loadingqjson = self.settingsWeb?.loading ||\n            { type: \"path\", value: loadingqjsonPath?.startsWith(\"/\") ? loadingqjsonPath.substring(1) : loadingqjsonPath, format: \"qjson\" };\n        if (loadingqjson && loadingqjson.value) {\n            const qjson = await self.LoadObject<any>(loadingqjson, \"\", { importField: \"*\", required: false }); //windowLibraryName\n            if (qjson) {\n                try {\n                    await renderer.settingModels.SetLoadingQjson(qjson);\n                } catch (err) {\n                }\n            }\n        }\n\n        if (self.SDKSettings?.domainModuleList) {\n            await self.SDKInstance?.LoadModuleCompLists(self.SDKSettings.domainModuleList).catch(ev => {\n                Logger.Log({ logMessage: ev, logType: LogType.Error });\n            });\n        }\n    }\n\n    private async LoadObject<T>(data: IPlateauUIObject, windowLibraryName: string, options: { importField?: string | \"*\", required?: boolean | true, parameters?: IContainerServiceParams } = { required: true }) {\n        const self = this;\n        if (!data) {\n            return;\n        }\n        if (options.parameters && (data.type != \"path\" && data.type != \"js\")) {\n            if (data.type != \"object\") { throw new Error(\"Parameters can be used for 'path' and 'js' data types!\"); }\n\n            Logger.Log({ logMessage: 'LoadObject with object type not supported with parameters.', logType: LogType.Warning });\n        }\n        if (data.format == \"qjson\") {\n            return await self.LoadQjson(data);\n        }\n        if (data.format == \"lottie\") {\n            throw new Error(\"Not implemented\");\n        }\n        if (data.type == \"path\") {\n            return await self.LoadJS(data.value, windowLibraryName, options)\n        }\n        if (data.type == \"object\") {\n            return data.value;\n        }\n        if (data.type == \"js\") {\n            return await importModuleBody<T>(data.value, () => { }, options.importField, options.parameters);\n        }\n    }\n\n    private async LoadJS<T>(requestData: string | IRequestData, windowLibraryName: string, options: { importField?: string | \"*\", required?: boolean | true, parameters?: IContainerServiceParams } = { required: true }) {\n        const self = this;\n        try {\n            if (this.PlateauUIOptions.corsEnabled && typeof requestData == \"string\") {\n                return await importScript<T>(requestData, windowLibraryName, options.importField, options.parameters);\n            }\n            else {\n                let requestObject = typeof requestData == \"string\" ? requestData : new Request(requestData.url, { method: 'GET', body: JSON.stringify(requestData.body), headers: requestData.headers });\n                return await importModule<T>(requestObject, () => { }, options.importField, options.parameters);\n\n            }\n        } catch (error) {\n            if (!options.required) {\n                return undefined;\n            }\n            throw new Error(\"couldn't load \" + JSON.stringify(requestData));\n        }\n    }\n\n    private async LoadQjson(plateauUIObject: { value: any, type: contentType }) {\n        let qJsonString = \"\";\n        if (plateauUIObject.type == \"path\") {\n            var qjsonPath = Legacy.fixLegacyPathFormat(plateauUIObject.value)\n            qJsonString = (await LazyLoader.FetchModuleBody(qjsonPath)).body; //TODO:newWebSDKBuild change to load from importHelper\n        }\n        if (plateauUIObject.type == \"js\") {\n            qJsonString = plateauUIObject.value;\n        }\n        if (!qJsonString) {\n            return undefined;\n        }\n        const qJsonExtracted = <IQJSon>QJsonExtractHelper.qJsonExtractor(qJsonString);\n        if (!qJsonExtracted) {\n            throw new Error(\"qJsonExtracted is undefined\");\n        }\n        return qJsonExtracted;\n    }\n    private async configureLivePreview(PlateauUIOptions: IPlateauUIOptions | undefined) {\n        if (PlateauUIOptions?.disableLP) { return; }\n\n        var self = this;\n        var lpManager = new LivePreviewManager();\n\n        var resp = await lpManager.isItLivePreview();\n        if (!resp) { return; }\n        self.lpManager = lpManager;\n        var settingsResponse = await lpManager.getLivePreviewSettings();\n        Logger.Log({ logMessage: `settingsResponse: ${settingsResponse}` })\n        if (!settingsResponse) { return; }\n        if (settingsResponse.serviceWorker) {\n            self.registerServiceWorker();\n        }\n        return settingsResponse;\n    }\n\n    private async registerServiceWorker() {\n        var self = this;\n        if (\"serviceWorker\" in navigator) {\n            try {\n                const registration = await navigator['serviceWorker'].register(\"./sw.js\", {\n                    scope: \"/qui-lp/\",\n                });\n                if (registration.installing) {\n                    Logger.Log({ logMessage: \"Service worker installing\" });\n                } else if (registration.waiting) {\n                    Logger.Log({ logMessage: \"Service worker installed\" });\n                } else if (registration.active) {\n                    Logger.Log({ logMessage: \"Service worker activated\" });\n                }\n            } catch (error) {\n                Logger.Log({ logMessage: `Registration failed with ${error}`, logType: LogType.Error });\n            }\n        }\n\n        navigator['serviceWorker'].onmessage = (event) => {\n            const pack = event.data;\n            self.onSWMessage(pack);\n        };\n    }\n\n    async onSWMessage(packId) {\n        var self = this;\n        const resp = await self.lpManager!.sendSwMessage(packId);\n        self.sendMessage(resp);\n    }\n\n    sendMessage(msg) {\n        setTimeout(() => {\n            navigator['serviceWorker'].controller?.postMessage(msg);\n        }, 1000);\n    }\n}\n\nvar websdkContainerInstance: WebsdkContainer | undefined;\n\nasync function init(PlateauUIOptions?: IPlateauUIOptions, environmentInfo?: string) {\n    if (websdkContainerInstance) { return websdkContainerInstance; }\n    websdkContainerInstance = new WebsdkContainer();\n    await websdkContainerInstance.init({ PlateauUIOptions, environmentInfo });\n    return websdkContainerInstance;\n}\n\nfunction createRenderer({ mountPoint }: { mountPoint: IDomElement }) {\n    if (!websdkContainerInstance) {\n        throw \"websdk initiation went wrong.\"\n    }\n    const plateauUI = websdkContainerInstance.createRenderer({ mountPoint });\n    return plateauUI;\n\n}\nfunction destroy() {\n    if (!websdkContainerInstance) { return; }\n\n    websdkContainerInstance.destroy();\n    websdkContainerInstance = undefined;\n}\n\nexport { createRenderer, init, destroy };\n"],"names":[],"sourceRoot":""}
import { convertCoreTypesToTypeScript, convertTypeScriptToCoreTypes, } from "core-types-ts";
import { userPackage, userPackageUrl } from "./package.js";
import { registerReader, registerWriter } from "./format-graph.js";
export function getTypeScriptReader(tsOptions) {
    return {
        kind: 'ts',
        read(source, { warn, filename }) {
            return convertTypeScriptToCoreTypes(source, {
                warn,
                ...tsOptions,
            });
        }
    };
}
export function getTypeScriptWriter(tsOptions) {
    return {
        kind: 'ts',
        write(doc, { warn, filename, sourceFilename }) {
            return convertCoreTypesToTypeScript(doc, {
                warn,
                filename,
                sourceFilename,
                userPackage,
                userPackageUrl,
                ...tsOptions,
            });
        }
    };
}
registerReader(getTypeScriptReader());
registerWriter(getTypeScriptWriter());

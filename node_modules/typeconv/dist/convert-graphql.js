import { convertCoreTypesToGraphql, convertGraphqlToCoreTypes, } from 'core-types-graphql';
import { userPackage, userPackageUrl } from "./package.js";
import { registerReader, registerWriter } from "./format-graph.js";
export function getGraphQLReader(graphqlOptions) {
    return {
        kind: 'gql',
        read(source, options) {
            return convertGraphqlToCoreTypes(source, {
                ...options,
                ...graphqlOptions,
            });
        }
    };
}
export function getGraphQLWriter(graphqlOptions) {
    return {
        kind: 'gql',
        write(doc, options) {
            return convertCoreTypesToGraphql(doc, {
                warn: options.warn,
                filename: options.filename,
                sourceFilename: options.sourceFilename,
                userPackage,
                userPackageUrl,
                ...graphqlOptions,
            });
        }
    };
}
registerReader(getGraphQLReader());
registerWriter(getGraphQLWriter());

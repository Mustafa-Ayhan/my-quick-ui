import { codeFrameColumns } from "awesome-code-frame";
import { locationToLineColumn, isCoreTypesError, } from "core-types";
export function formatCoreTypesError(err) {
    if (isCoreTypesError(err)) {
        const message = `[${err.name}] ${err.message}`;
        return formatError(message, err);
    }
    return err.message;
}
export function formatError(message, meta) {
    if (meta?.loc?.start && meta?.source) {
        const loc = locationToLineColumn(meta.source, meta.loc);
        const { start, end } = loc;
        if (start)
            return codeFrameColumns(meta.source, { start, end }, { message });
    }
    return message;
}

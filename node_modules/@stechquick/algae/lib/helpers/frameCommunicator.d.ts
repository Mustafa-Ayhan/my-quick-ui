import { ISocketPackage, StructuredMessageTypeDict } from "./socket/structuredSocket";
declare type MM<MesTypes extends Record<string, StructuredMessageTypeDict>, T extends keyof MesTypes> = keyof MesTypes[T];
export declare type MessageTypes<MesTypes extends Record<string, StructuredMessageTypeDict>, T extends keyof MesTypes> = MesTypes[T][MM<MesTypes, T>];
export declare type FrameCommunicatorSendOptionsType = {
    replyId?: string | undefined;
} & ({
    awaitResponse: true;
    awaitTime: number;
} | {
    awaitResponse?: false | undefined;
});
export declare class FrameCommunicator<MesTypes extends Record<string, StructuredMessageTypeDict>> {
    private structuredSocket;
    private windowSocket;
    constructor(targetWindow: Window);
    Send<TModule extends keyof MesTypes, ReqType extends keyof MesTypes[TModule]>(target: TModule, messageType: ReqType, message: MesTypes[TModule][ReqType], options: FrameCommunicatorSendOptionsType): Promise<ISocketPackage<MesTypes[TModule][keyof MesTypes[TModule]]>> | undefined;
    Subscribe<TModule extends keyof MesTypes, ReqType extends keyof MesTypes[TModule]>(target: TModule, messageType: ReqType, cb: (message: ISocketPackage<MesTypes[TModule][ReqType]>) => void): void;
    SubscribeAll<Types>(cb: (message: ISocketPackage<Types>) => void): void;
    UnsubscribeAll(cb: (message: ISocketPackage<MesTypes[string][string]>) => void): void;
    destroy(): void;
}
export {};
//# sourceMappingURL=frameCommunicator.d.ts.map
{"version":3,"file":"logger.js","sourceRoot":"","sources":["../../src/helpers/logger.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAAA,qDAAwE;AACxE,uCAAyB;AAEzB,MAAa,MAAM;IACR,MAAM,CAAC,GAAG,CAAC,OAAiB;QAC/B,MAAM,MAAM,GAAG,EAAE,CAAC;QAElB,IAAI,OAAO,CAAC,UAAU,EAAE;YACpB,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC,CAAC;SAC3D;QACD,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;QAE7B,IAAI,OAAO,CAAC,KAAK,EAAE;YACf,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;SAC9B;QAED,IAAI,OAAO,CAAC,UAAU,EAAE;YACpB,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC;SACnC;QAED,MAAM,SAAS,GAAG,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;QACnD,SAAS,CAAC,KAAK,CAAC,OAAO,EAAmB,MAAM,CAAC,CAAC;QAElD,IAAI,OAAO,CAAC,cAAc,EAAE;YACxB,IAAI,CAAC,WAAW,CAAC,MAAM,EAAE,OAAO,CAAC,WAAY,CAAC,CAAC;SAClD;IAEL,CAAC;IAEO,MAAM,CAAC,iBAAiB,CAAC,MAAkB;QAC/C,MAAM,IAAI,GAAG,IAAI,IAAI,EAAE,CAAC;QAExB,QAAQ,MAAM,EAAE;YACZ,KAAK,MAAM;gBACP,OAAO,IAAI,CAAC,kBAAkB,CAAC,OAAO,CAAC,CAAC;YAC5C,KAAK,UAAU;gBACX,OAAO,GAAG,IAAI,CAAC,WAAW,EAAE,CAAC,KAAK,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC;YAChD,KAAK,MAAM;gBACP,OAAO,GAAG,IAAI,CAAC,kBAAkB,CAAC,OAAO,CAAC,IAAI,IAAI,CAAC,eAAe,EAAE,EAAE,CAAC;YAC3E,KAAK,UAAU;gBACX,OAAO,GAAG,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,IAAI,IAAI,CAAC,eAAe,EAAE,EAAE,CAAC;SAC1E;IACL,CAAC;IAEO,MAAM,CAAC,YAAY,CAAC,QAAmB;QAC3C,IAAI,SAAgE,CAAC;QAErE,QAAQ,QAAQ,EAAE;YACd,KAAK,mBAAQ,CAAC,KAAK;gBACf,SAAS,GAAG,OAAO,CAAC,KAAK,CAAC;gBAC1B,MAAM;YACV,KAAK,mBAAQ,CAAC,IAAI;gBACd,SAAS,GAAG,OAAO,CAAC,IAAI,CAAC;gBACzB,MAAM;YACV,KAAK,mBAAQ,CAAC,GAAG;gBACb,SAAS,GAAG,OAAO,CAAC,GAAG,CAAC;gBACxB,MAAM;YACV,KAAK,mBAAQ,CAAC,KAAK;gBACf,SAAS,GAAG,OAAO,CAAC,KAAK,CAAC;gBAC1B,MAAM;YACV,KAAK,mBAAQ,CAAC,IAAI;gBACd,SAAS,GAAG,OAAO,CAAC,IAAI,CAAC;gBACzB,MAAM;YACV,KAAK,mBAAQ,CAAC,KAAK;gBACf,SAAS,GAAG,OAAO,CAAC,KAAK,CAAC;gBAC1B,MAAM;YACV;gBACI,SAAS,GAAG,OAAO,CAAC,GAAG,CAAC;SAC/B;QAED,OAAO,SAAS,CAAC;IACrB,CAAC;IAEO,MAAM,CAAC,WAAW,CAAC,MAAa,EAAE,IAAY;QAClD,EAAE,CAAC,aAAa,CAAC,GAAG,IAAI,gBAAgB,IAAI,CAAC,iBAAiB,CAAC,UAAU,CAAC,MAAM,EAAE,MAAM,GAAG,MAAM,EAAE,EAAE,QAAQ,EAAE,MAAM,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC;IACzI,CAAC;CACJ;AAzED,wBAyEC","sourcesContent":["import { ILogItem, LogLevel, TimeFormat } from \"../interfaces/ILogItem\";\nimport * as fs from 'fs';\n\nexport class Logger {\n    public static log(logItem: ILogItem) {\n        const params = [];\n\n        if (logItem.timeFormat) {\n            params.push(this.getDatetimeString(logItem.timeFormat));\n        }\n        params.push(logItem.message);\n\n        if (logItem.error) {\n            params.push(logItem.error);\n        }\n\n        if (logItem.additional) {\n            params.push(logItem.additional);\n        }\n\n        const targetLog = this.getTargetLog(logItem.level);\n        targetLog.apply(console, <[any, ...any[]]>params);\n\n        if (logItem.diskPermission) {\n            this.writeTxtLog(params, logItem.logDiskPath!);\n        }\n\n    }\n\n    private static getDatetimeString(format: TimeFormat): string {\n        const date = new Date();\n\n        switch (format) {\n            case \"date\":\n                return date.toLocaleDateString('tr-TR');\n            case \"datepath\":\n                return `${date.toISOString().slice(0, 10)}`;\n            case \"time\":\n                return `${date.toLocaleTimeString('tr-TR')}.${date.getMilliseconds()}`;\n            case \"datetime\":\n                return `${date.toLocaleString('tr-TR')}.${date.getMilliseconds()}`;\n        }\n    }\n\n    private static getTargetLog(logLevel?: LogLevel): (message: any, ...optionalParams: Array<any>) => void {\n        let targetLog: (message: any, ...optionalParams: Array<any>) => void;\n\n        switch (logLevel) {\n            case LogLevel.debug:\n                targetLog = console.debug;\n                break;\n            case LogLevel.info:\n                targetLog = console.info;\n                break;\n            case LogLevel.log:\n                targetLog = console.log;\n                break;\n            case LogLevel.trace:\n                targetLog = console.trace;\n                break;\n            case LogLevel.warn:\n                targetLog = console.warn;\n                break;\n            case LogLevel.error:\n                targetLog = console.error;\n                break;\n            default:\n                targetLog = console.log;\n        }\n\n        return targetLog;\n    }\n\n    private static writeTxtLog(params: any[], path: string) {\n        fs.writeFileSync(`${path}/symphonyLog-${this.getDatetimeString(\"datepath\")}.txt`, params + \"\\r\\n\", { encoding: 'utf8', flag: 'a+' });\n    }\n}"]}
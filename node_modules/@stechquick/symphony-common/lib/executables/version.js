"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const fs_1 = __importDefault(require("fs"));
console.log("reading package.json");
const packagejson = JSON.parse(fs_1.default.readFileSync("./package.json", { encoding: "utf-8" }));
console.log("found version: " + packagejson.version);
packagejson.version = packagejson.version || "0.0.0";
const vers = packagejson.version.split(".");
[0, 1, 2].forEach(index => vers[index] = vers[index] || "0");
vers[2] = (Number(vers[2]) || 0) + 1;
packagejson.version = vers.join(".");
console.log("new version: " + packagejson.version);
fs_1.default.writeFileSync("./package.json", JSON.stringify(packagejson, undefined, 4));
console.log("wrote package.json");
//# sourceMappingURL=version.js.map
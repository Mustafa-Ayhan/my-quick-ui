"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.NanoPredeploy = void 0;
const predeployCommon_1 = require("../predeployCommon");
const pathFinder_1 = require("../../../pathFinder");
const log_1 = require("@stechquick/symphony-common/lib/log");
const chalk_1 = require("../../../helpers/chalk");
const npmHelper_1 = require("../../../helpers/npmHelper");
class NanoPredeploy {
    static async execute(replaceWords) {
        log_1.Logger.log({ message: chalk_1.Chalk.create("green.bold", "Predeploy starting...") });
        // const options: IPredeployForeachItemOptions = {
        //     folder: "./functions",
        //     itemEndsWith: "func.yaml",
        //     iterator: (targetPath: string, funcName: string) => new PredeployCommon().preDeployReplaceCopier(targetPath,funcName,replaceWords,this.copyList)
        // };
        npmHelper_1.NpmHelper.install({ folderName: "./" });
        new predeployCommon_1.PredeployCommon().preDeployReplaceCopier("./", "NoFunction", replaceWords, this.copyList);
        log_1.Logger.log({ message: chalk_1.Chalk.create("green.bold", "Predeploy finished successfully...") });
    }
}
exports.NanoPredeploy = NanoPredeploy;
NanoPredeploy.copyList = [
    { path: pathFinder_1.PathFinder.RootPath("/templates/nanoPredeploy/Dockerfile"), needParamReplace: true, sourceFullPath: true },
];
